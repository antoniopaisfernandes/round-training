(self.webpackChunk=self.webpackChunk||[]).push([[847],{253:()=>{},621:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6314),o=n.n(r)()(function(t){return t[1]});o.push([t.id,".v-picker__title{font-size:.5rem;height:110px;min-height:110px}",""]);const i=o},1751:(t,e,n)=>{"use strict";var r=n(2893),o=n(6464),i=n(4600),a=n.n(i),c=n(9722),s=(n(8378),n(5588),n(9123)),u=n(3699),l="00:00:00",d="yyyy-MM-dd",f="HH:mm:ss";const p={name:"v-datetime-picker",model:{prop:"datetime",event:"input"},props:{datetime:{type:[Date,String],default:null},disabled:{type:Boolean},loading:{type:Boolean},label:{type:String,default:""},dialogWidth:{type:Number,default:340},dateFormat:{type:String,default:d},timeFormat:{type:String,default:f},clearText:{type:String,default:"LIMPAR"},okText:{type:String,default:"OK"},textFieldProps:{type:Object},datePickerProps:{type:Object},timePickerProps:{type:Object,default:function(){return{format:"24hr",scrollable:!0}}}},data:function(){return{display:!1,activeTab:0,date:"",time:l}},mounted:function(){this.init()},computed:{dateTimeFormat:function(){return this.dateFormat+" "+this.timeFormat},defaultDateTimeFormat:function(){return d+" "+f},formattedDatetime:function(){return this.selectedDatetime?(0,s.A)(this.selectedDatetime,this.dateTimeFormat):""},selectedDatetime:function(){if(this.date&&this.time){var t=this.date+" "+this.time;return 5===this.time.length&&(t+=":00"),(0,u.A)(t,this.defaultDateTimeFormat,new Date)}return null},dateSelected:function(){return!this.date}},methods:{init:function(){var t;this.datetime&&(this.datetime instanceof Date?t=this.datetime:("string"==typeof this.datetime||this.datetime instanceof String)&&(t=(0,u.A)(this.datetime,this.dateTimeFormat,new Date)),this.date=(0,s.A)(t,d),this.time=(0,s.A)(t,f))},okHandler:function(){this.resetPicker(),this.$emit("input",this.selectedDatetime)},clearHandler:function(){this.resetPicker(),this.date="",this.time=l,this.$emit("input",null)},resetPicker:function(){this.display=!1,this.activeTab=0,this.$refs.timer&&(this.$refs.timer.selectingHour=!0)},showTimePicker:function(){this.activeTab=1}},watch:{datetime:function(){this.init()}}};var v=n(5072),m=n.n(v),b=n(621),y={insert:"head",singleton:!1};m()(b.A,y);b.A.locals;const h=(0,n(4486).A)(p,function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{width:t.dialogWidth},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-text-field",t._g(t._b({attrs:{disabled:t.disabled,loading:t.loading,label:t.label,value:t.formattedDatetime,readonly:""},scopedSlots:t._u([{key:"progress",fn:function(){return[t._t("progress",function(){return[e("v-progress-linear",{attrs:{color:"primary",indeterminate:"",absolute:"",height:"2"}})]})]},proxy:!0}],null,!0)},"v-text-field",t.textFieldProps,!1),r))]}}]),model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[t._v(" "),e("v-card",[e("v-card-text",{staticClass:"px-0 py-0"},[e("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e("v-tab",{key:"calendar"},[t._t("dateIcon",function(){return[e("v-icon",[t._v("mdi-calendar")])]})],2),t._v(" "),e("v-tab",{key:"timer",attrs:{disabled:t.dateSelected}},[t._t("timeIcon",function(){return[e("v-icon",[t._v("mdi-clock-outline")])]})],2),t._v(" "),e("v-tab-item",{key:"calendar"},[e("v-date-picker",t._b({attrs:{"full-width":""},on:{input:t.showTimePicker},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-date-picker",t.datePickerProps,!1))],1),t._v(" "),e("v-tab-item",{key:"timer"},[e("v-time-picker",t._b({ref:"timer",attrs:{"full-width":""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},"v-time-picker",t.timePickerProps,!1))],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),t._t("actions",function(){return[e("v-btn",{attrs:{color:"grey lighten-1",text:""},nativeOn:{click:function(e){return t.clearHandler.apply(null,arguments)}}},[t._v(t._s(t.clearText))]),t._v(" "),e("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.okHandler}},[t._v(t._s(t.okText))])]},{parent:this})],2)],1)],1)},[],!1,null,null,null).exports;const g=function(t){t.component("v-datetime-picker",h)};var w=n(69),_=n(2050);function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function O(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=x(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==x(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}r.default.use(a()),r.default.use(g);var P={icons:{iconfont:"mdi"},themes:{light:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){O(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},c.A)}};const S=new(a())({breakpoint:{thresholds:{xs:640,sm:768,md:1024,lg:1280},scrollBarWidth:.1},theme:P,lang:{locales:{pt:w.A,en:_.A},current:"pt"}});n(8290),n(9920),n(8023),o.K.$http=window.axios;new r.default({vuetify:S,el:"#app",data:function(){var t;return{token:null===(t=document.head.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.content}}})},1795:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6314),o=n.n(r)()(function(t){return t[1]});o.push([t.id,".hours_attended input::-moz-placeholder{font-size:xx-small}.hours_attended input::placeholder{font-size:xx-small}",""]);const i=o},2644:()=>{},5524:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6314),o=n.n(r)()(function(t){return t[1]});o.push([t.id,".money input{text-align:end}.v-card{box-shadow:none}.vert-card{display:flex!important;flex-direction:column}.v-tabs{flex:none!important}.v-tabs-items{flex:1;overflow-y:auto;position:relative}",""]);const i=o},6705:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6314),o=n.n(r)()(function(t){return t[1]});o.push([t.id,".c-data-table table th{letter-spacing:1px;text-transform:uppercase}.c-data-table table th .v-icon{margin-left:5px}.c-data-table table tr td:last-child,.c-data-table table tr th:last-child{align-items:center;display:flex;flex-direction:row;justify-content:flex-end;padding-right:50px}",""]);const i=o},8023:(t,e,n)=>{"use strict";var r=n(2893),o=[{type:"v-list-item",icon:"mdi-account-key-outline",text:"User management",link:"/admin/users",admin:!0},{type:"v-list-item",icon:"mdi-account-circle-outline",text:"Logout",link:"/logout"}];const i=[{type:"v-list-item",icon:"mdi-monitor-dashboard",text:"Dashboard",link:"/"},{type:"v-divider"},{type:"v-list-item",icon:"mdi-domain",text:"Companies",link:"/companies",admin:!0},{type:"v-list-item",icon:"mdi-account-edit-outline",text:"Students",link:"/students"},{type:"v-list-item",icon:"mdi-brain",text:"Program editions",link:"/program-editions"},{type:"v-list-item",icon:"mdi-microsoft-excel",text:"Reports",link:"/reports"}],a={props:{isActive:{default:null}},watch:{isActive:function(t){this.drawer=t}},data:function(){return{drawer:null,mainRoutes:[],footerRoutes:[]}},mounted:function(){var t=this;this.mainRoutes=i.filter(function(e){return!e.admin||t.admin}),this.footerRoutes=o.filter(function(e){return!e.admin||t.admin})},computed:{auth:function(){return this.$root.$refs.eApp.$options.propsData.auth},admin:function(){var t;return(null===(t=this.auth)||void 0===t||null===(t=t.roles)||void 0===t?void 0:t.filter(function(t){return"admin"==t.name}).length)>0}},methods:{goto:function(t){t&&(document.location=t)}}};var c=n(4486);const s={components:{NavigationDrawer:(0,c.A)(a,function(){var t=this,e=t._self._c;return e("v-navigation-drawer",{attrs:{fixed:"",app:"",color:"primary"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("div",{staticClass:"tw-mt-16"})]},proxy:!0},{key:"append",fn:function(){return[e("v-list",{attrs:{dense:""}},t._l(t.footerRoutes,function(n,r){return e("div",{key:r},[e("v-list-item",{attrs:{link:""},on:{click:function(e){return e.stopPropagation(),t.goto(n.link)}}},[e("v-list-item-action",[e("v-icon",[t._v(t._s(n.icon))])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(n.text))])],1)],1)],1)}),0)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t._v(" "),e("v-list",{attrs:{dense:""}},t._l(t.mainRoutes,function(n,r){return e("div",{key:r},[e("v-list-item",{attrs:{link:""},on:{click:function(e){return e.stopPropagation(),t.goto(n.link)}}},[e("v-list-item-action",[e("v-icon",[t._v(t._s(n.icon))])],1),t._v(" "),e("v-list-item-content",[e("v-list-item-title",[t._v(t._s(n.text))])],1)],1)],1)}),0)],1)},[],!1,null,null,null).exports},data:function(){return{navigationDrawerIsActive:null}},props:{auth:{type:Object,default:{}}},methods:{toggle:function(){this.navigationDrawerIsActive=!this.navigationDrawerIsActive}}};const u=(0,c.A)(s,function(){var t=this,e=t._self._c;return e("v-app",{attrs:{id:"training"}},[t.auth?e("navigation-drawer",{ref:"navigationDrawer",attrs:{isActive:t.navigationDrawerIsActive}}):t._e(),t._v(" "),e("v-app-bar",{attrs:{app:"",flat:"",height:"78",color:"white"}},[t.auth?e("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggle.apply(null,arguments)}}}):t._e(),t._v(" "),e("v-toolbar-title",{staticClass:"tw-w-full"},[e("div",{staticClass:"tw-flex tw-items-center tw-justify-between"},[e("div",[e("a",{attrs:{href:"/"}},[e("img",{attrs:{src:"/images/logo.svg",alt:"Logo"}})])]),t._v(" "),e("div",{staticClass:"text-xl tw-mr-6 tw-font-medium tw-uppercase"},[t._v("Training Management")])])])],1),t._v(" "),e("v-main",{staticClass:"grey lighten-5"},[t._t("default")],2)],1)},[],!1,null,null,null).exports;var l=n(9722);const d={data:function(){return{visible:!1,text:"",timeout:4e3,type:"info",top:!0,right:!0}},mounted:function(){var t=this;Event.listen("toast",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.type,r=void 0===n?"info":n,o=e.message,i=void 0===o?"":o;t.text=i,t.type=r,t.visible=!0})},computed:{color:function(){return"warning"==this.type?l.A.warning:"error"==this.type?l.A.error:l.A.primary}}};const f=(0,c.A)(d,function(){var t=this,e=t._self._c;return e("v-snackbar",{attrs:{timeout:t.timeout,top:t.top,right:t.right,color:t.color},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t._v("\n  "+t._s(t.text)+"\n  "),e("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Fechar")])],1)},[],!1,null,null,null).exports;var p=n(5419),v=n.n(p),m=n(9920);const b=function(t){m.default.fire("toast",{type:"warning",message:t})},y=function(t){m.default.fire("toast",{type:"error",message:t})};function h(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return g(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(g(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,g(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,g(d,"constructor",u),g(u,"constructor",s),s.displayName="GeneratorFunction",g(u,o,"GeneratorFunction"),g(d),g(d,o,"Generator"),g(d,r,function(){return this}),g(d,"toString",function(){return"[object Generator]"}),(h=function(){return{w:i,m:f}})()}function g(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}g=function(t,e,n,r){function i(e,n){g(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},g(t,e,n,r)}function w(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}const _={props:{title:{type:String,default:null},description:{type:String,default:null},report:{type:String,default:null},dateFormat:{type:String,default:"date-range"},beginDate:{type:[Date,null],default:null},endDate:{type:[Date,null],default:null}},data:function(){return{loading:!1,year:null,startsAtActive:!1,startsAt:null,endsAtActive:!1,endsAt:null}},computed:{years:function(){var t,e,n,r=(new Date).getFullYear();return t=r,e=r-20,n=-1,Array.from({length:(e-t)/n+1},function(e,r){return t+r*n})},form:function(){return{name:this.report,year:this.year,begin_date:this.startsAt,end_date:this.endsAt}},valid:function(){return this.year||this.startsAt}},methods:{submit:function(){var t,e=this;return(t=h().m(function t(){var n,r;return h().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e.loading=!0,t.n=1,axios.post("/reports/".concat(e.report),e.form,{responseType:"arraybuffer"});case 1:n=t.v,v()(n.data,"".concat(e.report,".xlsx")),t.n=3;break;case 2:t.p=2,r=t.v,y(r);case 3:return t.p=3,e.loading=!1,t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){w(i,r,o,a,c,"next",t)}function c(t){w(i,r,o,a,c,"throw",t)}a(void 0)})})()}},mounted:function(){this.startsAt=this.beginDate,this.endsAt=this.endDate}};const x=(0,c.A)(_,function(){var t=this,e=t._self._c;return e("v-form",{ref:"form"},[e("v-card",{staticClass:"mx-auto",attrs:{"max-width":"250"}},[e("div",{staticClass:"px-2 tw-text-xl tw-text-center primary tw-text-white",domProps:{textContent:t._s(t.title)}}),t._v(" "),e("div",{staticClass:"container py-0"},["date-range"==t.dateFormat?e("div",[e("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"none","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-text-field",t._g({staticClass:"mt-4",attrs:{label:"From","prepend-inner-icon":"mdi-calendar",readonly:"",dense:!0},model:{value:t.startsAt,callback:function(e){t.startsAt=e},expression:"startsAt"}},r))]}}],null,!1,3972669572),model:{value:t.startsAtActive,callback:function(e){t.startsAtActive=e},expression:"startsAtActive"}},[t._v(" "),e("v-date-picker",{on:{input:function(e){t.startsAtActive=!1}},model:{value:t.startsAt,callback:function(e){t.startsAt=e},expression:"startsAt"}})],1),t._v(" "),e("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"none","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-text-field",t._g({attrs:{label:"To","prepend-inner-icon":"mdi-calendar",readonly:"",dense:!0},model:{value:t.endsAt,callback:function(e){t.endsAt=e},expression:"endsAt"}},r))]}}],null,!1,1002119910),model:{value:t.endsAtActive,callback:function(e){t.endsAtActive=e},expression:"endsAtActive"}},[t._v(" "),e("v-date-picker",{on:{input:function(e){t.endsAtActive=!1}},model:{value:t.endsAt,callback:function(e){t.endsAt=e},expression:"endsAt"}})],1)],1):t._e(),t._v(" "),"year"==t.dateFormat?e("div",[e("v-select",{staticClass:"mt-4",attrs:{"prepend-inner-icon":"mdi-calendar",items:t.years,label:"Year"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1):t._e()]),t._v(" "),e("div",{staticClass:"container tw-text-xs"},[t._v(t._s(t.description))]),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{staticClass:"primary",attrs:{icon:"",loading:t.loading,disabled:t.loading||!t.valid},on:{click:t.submit}},[e("v-icon",[t._v("mdi-microsoft-excel")])],1)],1)],1)],1)},[],!1,null,null,null).exports;function k(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return O(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(O(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,O(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,O(d,"constructor",u),O(u,"constructor",s),s.displayName="GeneratorFunction",O(u,o,"GeneratorFunction"),O(d),O(d,o,"Generator"),O(d,r,function(){return this}),O(d,"toString",function(){return"[object Generator]"}),(k=function(){return{w:i,m:f}})()}function O(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}O=function(t,e,n,r){function i(e,n){O(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},O(t,e,n,r)}function P(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function S(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){P(i,r,o,a,c,"next",t)}function c(t){P(i,r,o,a,c,"throw",t)}a(void 0)})}}const j={props:["items","totalItems"],data:function(){return{list:[],totalList:0,options:{},editedIndex:-1,isLoading:!1,isSaving:!1,createVisible:!1}},created:function(){var t=this;this.list=this.items.map(function(e){return t.instance(e)}),this.totalList=this.totalItems||this.list.length},methods:{instance:function(t){throw Error("Instance method must be defined in parent")},newItem:function(){this.editedIndex=-1,this.editedItem=this.instance(),this.createVisible=!0},editItem:function(t){this.editedIndex=this.list.indexOf(t),this.editedItem=t.clone(),this.createVisible=!0},deleteItem:function(t){var e=this;return S(k().m(function n(){var r;return k().w(function(n){for(;;)switch(n.n){case 0:if(r=e.list.indexOf(t),confirm("Are you sure?")){n.n=1;break}return n.a(2);case 1:try{t.delete(),e.list.splice(r,1)}catch(t){y(t)}case 2:return n.a(2)}},n)}))()},saved:function(t){this.editedIndex>-1?Object.assign(this.list[this.editedIndex],t):this.list.push(t),this.close()},close:function(){}},watch:{options:{handler:function(t,e){var n=this;return S(k().m(function r(){var o,i,a;return k().w(function(r){for(;;)switch(r.p=r.n){case 0:if(e.page){r.n=1;break}return r.a(2);case 1:return n.isLoading=!0,r.p=2,r.n=3,n.instance().fetch(t);case 3:o=r.v,i=o.data,a=o.meta,n.list=i,n.totalList=a.total,r.n=5;break;case 4:r.p=4,r.v,n.list=[],n.totalList=0;case 5:return r.p=5,n.isLoading=!1,r.f(5);case 6:return r.a(2)}},r,null,[[2,4,5,6]])}))()},deep:!0}}};const E={};var C=n(5072),A=n.n(C),T=n(6705),D={insert:"head",singleton:!1};A()(T.A,D);T.A.locals;const $=(0,c.A)(E,function(){return(0,this._self._c)("div",{staticClass:"c-data-table tw-flex tw-flex-col tw-mt-10 tw-mx-20"},[this._t("default")],2)},[],!1,null,null,null).exports;var I=n(3149);function G(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return N(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(N(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,N(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,N(d,"constructor",u),N(u,"constructor",s),s.displayName="GeneratorFunction",N(u,o,"GeneratorFunction"),N(d),N(d,o,"Generator"),N(d,r,function(){return this}),N(d,"toString",function(){return"[object Generator]"}),(G=function(){return{w:i,m:f}})()}function N(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}N=function(t,e,n,r){function i(e,n){N(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},N(t,e,n,r)}function V(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}const F={name:"add-program-dialog",model:{prop:"selectedProgram",event:"input"},props:{visible:{type:Boolean,default:!1},existingPrograms:{type:Array,default:function(){return[]}}},data:function(){return{selectedProgram:null,isSaving:!1}},computed:{show:{get:function(){return this.visible},set:function(t){t||this.$emit("close")}},isSaveDisabled:function(){return null===this.selectedProgram||""==this.selectedProgram},commitButton:function(){return(0,I.A)(this.selectedProgram)?"Ok":"Save"}},methods:{save:function(){var t,e=this;return(t=G().m(function t(){var n,r,o;return G().w(function(t){for(;;)switch(t.p=t.n){case 0:if(e.selectedProgram){t.n=1;break}return e.cancel(),t.a(2);case 1:if(!(0,I.A)(e.selectedProgram)){t.n=2;break}return e.close(),e.$emit("input",{id:e.selectedProgram.value,name:e.selectedProgram.text}),t.a(2);case 2:return e.isSaving=!0,t.p=3,t.n=4,axios.post("/programs",{name:e.selectedProgram});case 4:n=t.v,e.cancel(),e.$emit("input",n.data),t.n=6;break;case 5:t.p=5,o=t.v,e.isSaving=!1,console.warn(null==o||null===(r=o.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.errors),y(o);case 6:return t.a(2)}},t,null,[[3,5]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){V(i,r,o,a,c,"next",t)}function c(t){V(i,r,o,a,c,"throw",t)}a(void 0)})})()},cancel:function(){this.close(),this.selectedProgram=null},close:function(){this.show=!1}}};const R=(0,c.A)(F,function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("v-card",{attrs:{loading:t.isSaving}},[e("v-card-title",[t._v("\n      Add program name\n    ")]),t._v(" "),e("v-card-text",[e("v-combobox",{attrs:{items:t.existingPrograms},model:{value:t.selectedProgram,callback:function(e){t.selectedProgram=e},expression:"selectedProgram"}})],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v(t._s(t.commitButton))])],1)],1)],1)},[],!1,null,null,null).exports;var B=n(4213),q=n(2325),U=n(6464);function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function z(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return H(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(H(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,H(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,H(d,"constructor",u),H(u,"constructor",s),s.displayName="GeneratorFunction",H(u,o,"GeneratorFunction"),H(d),H(d,o,"Generator"),H(d,r,function(){return this}),H(d,"toString",function(){return"[object Generator]"}),(z=function(){return{w:i,m:f}})()}function H(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}H=function(t,e,n,r){function i(e,n){H(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},H(t,e,n,r)}function M(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function Q(t){return function(t){if(Array.isArray(t))return Y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function K(t,e,n){return(e=X(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X(r.key),r)}}function X(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:e+""}function Z(t,e,n){return e=nt(e),function(t,e){if(e&&("object"==L(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tt(t)}(t,et()?Reflect.construct(e,n||[],nt(t).constructor):e.apply(t,n))}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(et=function(){return!!t})()}function nt(t){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nt(t)}function rt(t,e){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rt(t,e)}var ot=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),tt(t?Z(this,e,[t]):Z(this,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rt(t,e)}(e,t),n=e,r=[{key:"baseURL",value:function(){return""}},{key:"request",value:function(t){return this.$http.request(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach(function(e){K(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({transformRequest:[function(t){return(0,I.A)(t)?JSON.parse(JSON.stringify(t,(e=new WeakSet,function(t,n){if((0,I.A)(n)&&null!==n){if(e.has(n))return;e.add(n)}return n}))):t;var e}].concat(Q(this.$http.defaults.transformRequest))},t))}},{key:"fetch",value:(i=z().m(function t(e){var n,r,o,i;return z().w(function(t){for(;;)switch(t.n){case 0:return n=e.sortBy.map(function(t,n){return(e.sortDesc[n]?"-":"")+t}),r=e.page||1,o=e.itemsPerPage||10,t.n=1,this.orderBy(n).page(r).limit(o).get();case 1:return i=t.v,t.a(2,i)}},t,this)}),a=function(){var t=this,e=arguments;return new Promise(function(n,r){var o=i.apply(t,e);function a(t){M(o,n,r,a,c,"next",t)}function c(t){M(o,n,r,a,c,"throw",t)}a(void 0)})},function(t){return a.apply(this,arguments)})},{key:"export",value:function(t){var e=new URLSearchParams(t).toString(),n="/".concat(this.resource(),"/").concat(this.id,"/export?").concat(e),r="".concat(this.id,".").concat(t.format);(0,B.saveAs)(n,r)}},{key:"clone",value:function(){return(0,q.A)(this)}}],r&&J(n.prototype,r),o&&J(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(U.K);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ct(r.key),r)}}function ct(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==it(e)?e:e+""}function st(t,e,n){return e=lt(e),function(t,e){if(e&&("object"==it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ut()?Reflect.construct(e,n||[],lt(t).constructor):e.apply(t,n))}function ut(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ut=function(){return!!t})()}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dt(t,e)}var ft=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),st(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(e,t),n=e,(r=[{key:"resource",value:function(){return"students"}}])&&at(n.prototype,r),o&&at(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot),pt=n(5184),vt=n(1662);function mt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return bt(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(bt(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,bt(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,bt(d,"constructor",u),bt(u,"constructor",s),s.displayName="GeneratorFunction",bt(u,o,"GeneratorFunction"),bt(d),bt(d,o,"Generator"),bt(d,r,function(){return this}),bt(d,"toString",function(){return"[object Generator]"}),(mt=function(){return{w:i,m:f}})()}function bt(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}bt=function(t,e,n,r){function i(e,n){bt(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},bt(t,e,n,r)}function yt(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}const ht={name:"program-edition-create-students",props:{programEdition:{type:ot,default:function(){return new ProgramEdition}},students:{type:Array,default:[]}},data:function(){return{isLoading:!1,search:null,studentsFromQuery:[],student:null}},computed:{rules:function(){return{hours_attended:[function(t){return t>=0||"O valor deve numérico e positivo"}]}}},methods:{addStudent:function(){var t=(0,q.A)(this.student);t.pivot={hours_attended:null},this.$emit("add",new ft(t)),this.search=null,this.studentsFromQuery=[],this.student=null},deleteStudent:function(t){this.$emit("delete",t)}},watch:{programEdition:function(t){this.student=null,this.studentsFromQuery=[]},search:function(t){var e,n=this;return(e=mt().m(function t(){var e,r,o;return mt().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!n.isLoading){t.n=1;break}return t.a(2);case 1:return n.isLoading=!0,n.studentsFromQuery=[],t.p=2,t.n=3,ft.orderBy("name").get();case 3:e=t.v,r=e.data,n.studentsFromQuery=(0,vt.A)(r,function(t){return(0,pt.A)(n.students,{id:t.id})<0}),t.n=5;break;case 4:t.p=4,o=t.v,y(o);case 5:return t.p=5,n.isLoading=!1,t.f(5);case 6:return t.a(2)}},t,null,[[2,4,5,6]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){yt(i,r,o,a,c,"next",t)}function c(t){yt(i,r,o,a,c,"throw",t)}a(void 0)})})()}}},gt=ht;var wt=n(1795),_t={insert:"head",singleton:!1};A()(wt.A,_t);wt.A.locals;const xt=(0,c.A)(gt,function(){var t=this,e=t._self._c;return e("v-card",[e("v-card-text",[e("div",{staticClass:"tw-flex tw-items-baseline"},[e("div",{staticClass:"tw-flex-1"},[e("v-autocomplete",{attrs:{items:t.studentsFromQuery,loading:t.isLoading,"search-input":t.search,"hide-no-data":"","hide-selected":"","item-text":"name","item-value":"id",label:"Students",placeholder:"Student name","prepend-icon":"mdi-database-search","return-object":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1),t._v(" "),e("v-btn",{staticClass:"tw-ml-2",attrs:{disabled:!t.student,fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(e){return t.addStudent()}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),t.students.length>0?e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("thead",[e("tr",[e("th",{staticClass:"text-left"},[t._v("Name")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v("Hours")]),t._v(" "),e("th",{staticClass:"text-left"},[t._v(" ")])])]),t._v(" "),e("tbody",t._l(t.students,function(n,r){return e("tr",{key:r},[e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[e("v-text-field",{staticClass:"hours_attended",attrs:{rules:t.rules.hours_attended,dense:"",placeholder:"You only need to fill if the number of hours is different from the program edition"},model:{value:n.pivot.hours_attended,callback:function(e){t.$set(n.pivot,"hours_attended",e)},expression:"student.pivot.hours_attended"}})],1),t._v(" "),e("td",[e("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(e){return t.deleteStudent(r)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1)])}),0)]},proxy:!0}],null,!1,2628011436)}):t._e()],1)],1)},[],!1,null,null,null).exports;function kt(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return Ot(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Ot(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,Ot(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,Ot(d,"constructor",u),Ot(u,"constructor",s),s.displayName="GeneratorFunction",Ot(u,o,"GeneratorFunction"),Ot(d),Ot(d,o,"Generator"),Ot(d,r,function(){return this}),Ot(d,"toString",function(){return"[object Generator]"}),(kt=function(){return{w:i,m:f}})()}function Ot(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Ot=function(t,e,n,r){function i(e,n){Ot(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Ot(t,e,n,r)}function Pt(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}const St={props:{programEdition:{type:ot,required:!0}},data:function(){return{isExporting:!1,cover:!0,students:!0}},methods:{exportExcel:function(){this.isExporting=!0;try{this.programEdition.export({cover:this.cover,students:this.students})}catch(t){b(t)}finally{this.isExporting=!1}},reports:function(t){var e,n=this;return(e=kt().m(function e(){var r,o;return kt().w(function(e){for(;;)switch(e.p=e.n){case 0:return n.isExporting=!0,e.p=1,e.n=2,axios.post("/reports/".concat(t),{name:t,program_edition_id:n.programEdition.id},{responseType:"arraybuffer"});case 2:r=e.v,v()(r.data,"".concat(t,".xlsx")),e.n=4;break;case 3:e.p=3,o=e.v,b(o);case 4:return e.p=4,n.isExporting=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(t){Pt(i,r,o,a,c,"next",t)}function c(t){Pt(i,r,o,a,c,"throw",t)}a(void 0)})})()}}};const jt=(0,c.A)(St,function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"mt-10 warning tw-text-center tw-text-white tw-font-mono tw-rounded"},[t._v("The export is based on the server data. You need to save before exporting.")]),t._v(" "),e("div",{staticClass:"mt-10 container tw-flex tw-justify-between tw-items-end"},[e("div",[e("v-switch",{attrs:{label:"Global data"},model:{value:t.cover,callback:function(e){t.cover=e},expression:"cover"}}),t._v(" "),e("v-switch",{attrs:{label:"Students information"},model:{value:t.students,callback:function(e){t.students=e},expression:"students"}})],1),t._v(" "),e("div",[e("v-btn",{attrs:{color:"primary darken-1",loading:t.isExporting,disabled:!t.cover&&!t.students},on:{click:t.exportExcel}},[t._v("Export")])],1)]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"tw-mt-8 tw-flex"},[e("v-btn",{staticClass:"tw-mx-auto",attrs:{color:"primary darken-1",loading:t.isExporting},on:{click:function(e){return t.reports("evaluation")}}},[t._v("Training assessment report")])],1)])},[function(){var t=this._self._c;return t("div",{staticClass:"tw-mt-8 tw-flex"},[t("div",{staticClass:"tw-mx-auto"},[this._v("\n      Reports\n    ")])])}],!1,null,null,null).exports;function Et(t){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Et(t)}function Ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,At(r.key),r)}}function At(t){var e=function(t,e){if("object"!=Et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Et(e)?e:e+""}function Tt(t,e,n){return e=$t(e),function(t,e){if(e&&("object"==Et(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dt()?Reflect.construct(e,n||[],$t(t).constructor):e.apply(t,n))}function Dt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dt=function(){return!!t})()}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}function It(t,e){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},It(t,e)}var Gt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Tt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&It(t,e)}(e,t),n=e,(r=[{key:"resource",value:function(){return"programs"}}])&&Ct(n.prototype,r),o&&Ct(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot);function Nt(t){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt(t)}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ft(r.key),r)}}function Ft(t){var e=function(t,e){if("object"!=Nt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nt(e)?e:e+""}function Rt(t,e,n){return e=qt(e),function(t,e){if(e&&("object"==Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bt()?Reflect.construct(e,n||[],qt(t).constructor):e.apply(t,n))}function Bt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Bt=function(){return!!t})()}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}function Ut(t,e){return Ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ut(t,e)}var Lt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Rt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(e,t),n=e,(r=[{key:"resource",value:function(){return"enrollments"}}])&&Vt(n.prototype,r),o&&Vt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot);function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mt(r.key),r)}}function Mt(t){var e=function(t,e){if("object"!=zt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zt(e)?e:e+""}function Qt(t,e,n){return e=Wt(e),function(t,e){if(e&&("object"==zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Yt()?Reflect.construct(e,n||[],Wt(t).constructor):e.apply(t,n))}function Yt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Yt=function(){return!!t})()}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}function Kt(t,e){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kt(t,e)}var Jt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Qt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e)}(e,t),n=e,(r=[{key:"resource",value:function(){return"companies"}}])&&Ht(n.prototype,r),o&&Ht(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot);function Xt(t){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xt(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,te(r.key),r)}}function te(t){var e=function(t,e){if("object"!=Xt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xt(e)?e:e+""}function ee(t,e,n){return e=re(e),function(t,e){if(e&&("object"==Xt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ne()?Reflect.construct(e,n||[],re(t).constructor):e.apply(t,n))}function ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ne=function(){return!!t})()}function re(t){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},re(t)}function oe(t,e){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},oe(t,e)}var ie=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ee(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oe(t,e)}(e,t),n=e,(r=[{key:"resource",value:function(){return"program-editions"}},{key:"students",value:function(){return this.hasMany(ft)}}])&&Zt(n.prototype,r),o&&Zt(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot);function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pe(r.key),r)}}function se(t,e,n){return e=le(e),function(t,e){if(e&&("object"==ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ue()?Reflect.construct(e,n||[],le(t).constructor):e.apply(t,n))}function ue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(ue=function(){return!!t})()}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(t)}function de(t,e){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},de(t,e)}function fe(t,e,n){return(e=pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pe(t){var e=function(t,e){if("object"!=ae(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ae(e)?e:e+""}var ve=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fe(t=se(this,e,[].concat(r)),"id",null),fe(t,"program_edition_id",null),fe(t,"starts_at",null),fe(t,"ends_at",null),fe(t,"interval_start",null),fe(t,"interval_minutes",null),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&de(t,e)}(e,t),n=e,r&&ce(n.prototype,r),o&&ce(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot),me=n(2636),be=n(9123),ye=n(2118),he=n(1806);function ge(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return we(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(we(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,we(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,we(d,"constructor",u),we(u,"constructor",s),s.displayName="GeneratorFunction",we(u,o,"GeneratorFunction"),we(d),we(d,o,"Generator"),we(d,r,function(){return this}),we(d,"toString",function(){return"[object Generator]"}),(ge=function(){return{w:i,m:f}})()}function we(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}we=function(t,e,n,r){function i(e,n){we(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},we(t,e,n,r)}function _e(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function xe(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){_e(i,r,o,a,c,"next",t)}function c(t){_e(i,r,o,a,c,"throw",t)}a(void 0)})}}var ke;const Oe={name:"program-edition-create",components:{AddProgramDialog:R,StudentsTab:xt,ExportTab:jt},model:{prop:"programEdition",event:"input"},props:{programEdition:{type:ot,default:function(){return new ie}},visible:{type:Boolean}},data:function(){return{dataProgramEdition:new ie,isSaving:!1,companies:[],programs:[],students:[],startsAtActive:!1,endsAtActive:!1,addProgramDialogVisible:!1,evaluationNotificationDateActive:!1,tab:null}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.tab=null,this.dataProgramEdition=new ie)}},isSaveDisabled:function(){return!this.dataProgramEdition.name||this.isSaving},rules:function(){return{name:[function(t){return!!t||"The field should have a value."}],program_id:[function(t){return!!t||"The field should have a value."}]}},managerName:function(){var t;return null===(t=this.dataProgramEdition.manager)||void 0===t?void 0:t.name}},methods:{close:function(){this.dataVisible=!1},save:function(){var t=this;return xe(ge().m(function e(){var n,r;return ge().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isSaving=!0,e.p=1,t.dataProgramEdition.enrollments=t.students.map(function(e){return new Lt({id:e.pivot.id,student_id:e.id,program_edition_id:t.dataProgramEdition.id,company_id:e.current_company_id,hours_attended:e.pivot.hours_attended})})||[],e.n=2,t.dataProgramEdition.save();case 2:n=e.v,t.dataProgramEdition=new ie,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.n=4;break;case 3:e.p=3,r=e.v,t.isSaving=!1,y(r);case 4:return e.a(2)}},e,null,[[1,3]])}))()},selectProgramId:function(t){t&&(this.programs.push({text:t.name,value:t.id}),this.dataProgramEdition.program_id=t.id)},addSchedule:function(){this.dataProgramEdition.schedules.push(new ve)},deleteSchedule:function(t){this.dataProgramEdition.schedules.splice(t,1)},updateEvaluationNotificationDate:function(t){this.dataProgramEdition.evaluation_notification_date&&this.dataProgramEdition.id||(this.dataProgramEdition.evaluation_notification_date=(0,be.A)((0,ye.A)((0,he.A)(this.dataProgramEdition.ends_at),6),"yyyy-LL-dd"))},getStudents:function(){var t=this;return xe(ge().m(function e(){var n,r;return ge().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.students=[],t.programEdition.id){e.n=1;break}return e.a(2);case 1:return t.isSaving=!0,e.p=2,e.n=3,t.programEdition.students().get();case 3:n=e.v,t.students=n||[],e.n=5;break;case 4:e.p=4,r=e.v,y(r);case 5:return e.p=5,t.isSaving=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))()},getPrograms:function(){var t=this;return xe(ge().m(function e(){var n,r;return ge().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Gt.get();case 1:n=e.v,t.programs=(0,me.A)(n,function(t){return{text:t.name,value:t.id}}),e.n=3;break;case 2:e.p=2,r=e.v,y(r);case 3:return e.a(2)}},e,null,[[0,2]])}))()},getCompanies:function(){var t=this;return xe(ge().m(function e(){var n,r;return ge().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Jt.get();case 1:n=e.v,t.companies=(0,me.A)(n,function(t){return{text:t.name,value:t.id}}),e.n=3;break;case 2:e.p=2,r=e.v,y(r);case 3:return e.a(2)}},e,null,[[0,2]])}))()}},watch:{programEdition:function(t){this.dataProgramEdition=t,this.getStudents()},visible:function(t){this.dataVisible=t}},mounted:(ke=xe(ge().m(function t(){return ge().w(function(t){for(;;)switch(t.n){case 0:this.getPrograms(),this.getCompanies();case 1:return t.a(2)}},t,this)})),function(){return ke.apply(this,arguments)})};var Pe=n(5524),Se={insert:"head",singleton:!1};A()(Pe.A,Se);Pe.A.locals;const je={mixins:[j],components:{createDialog:(0,c.A)(Oe,function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{persistent:"","max-width":"48rem"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[e("v-card",{staticClass:"px-5 py-5 vert-card",attrs:{loading:t.isSaving,height:"90vh"}},[e("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab",{key:"programEdition"},[t._v("Program edition")]),t._v(" "),e("v-tab",{key:"students"},[t._v("Students")]),t._v(" "),t.dataProgramEdition.id?e("v-tab",{key:"export"},[t._v("Export")]):t._e()],1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",{key:"programEdition"},[e("v-card",[e("v-card-text",[e("div",{staticClass:"tw-flex"},[e("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center tw-w-2/3"},[e("v-select",{staticClass:"tw-w-8/12",attrs:{items:t.programs,label:"Program name",required:"",rules:t.rules.program_id},on:{input:function(e){t.dataProgramEdition.program_id=e}},model:{value:t.dataProgramEdition.program_id,callback:function(e){t.$set(t.dataProgramEdition,"program_id",e)},expression:"dataProgramEdition.program_id"}}),t._v(" "),e("v-btn",{staticClass:"tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(e){t.addProgramDialogVisible=!0}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),t._v(" "),e("add-program-dialog",{attrs:{"existing-programs":t.programs,visible:t.addProgramDialogVisible},on:{close:function(e){t.addProgramDialogVisible=!1},input:function(e){return t.selectProgramId(e)}}})],1),t._v(" "),e("v-text-field",{staticClass:"ml-4 tw-w-1/3",attrs:{label:"Edition name",required:"",rules:t.rules.name},model:{value:t.dataProgramEdition.name,callback:function(e){t.$set(t.dataProgramEdition,"name",e)},expression:"dataProgramEdition.name"}})],1),t._v(" "),e("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center"},[e("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-text-field",t._g({attrs:{label:"Starts at","prepend-inner-icon":"mdi-calendar",readonly:"",rules:t.rules.starts_at},model:{value:t.dataProgramEdition.starts_at,callback:function(e){t.$set(t.dataProgramEdition,"starts_at",e)},expression:"dataProgramEdition.starts_at"}},r))]}}]),model:{value:t.startsAtActive,callback:function(e){t.startsAtActive=e},expression:"startsAtActive"}},[t._v(" "),e("v-date-picker",{on:{input:function(e){t.startsAtActive=!1}},model:{value:t.dataProgramEdition.starts_at,callback:function(e){t.$set(t.dataProgramEdition,"starts_at",e)},expression:"dataProgramEdition.starts_at"}})],1),t._v(" "),e("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-text-field",t._g({staticClass:"tw-ml-2",attrs:{label:"Ends at","prepend-inner-icon":"mdi-calendar",readonly:"",rules:t.rules.ends_at},model:{value:t.dataProgramEdition.ends_at,callback:function(e){t.$set(t.dataProgramEdition,"ends_at",e)},expression:"dataProgramEdition.ends_at"}},r))]}}]),model:{value:t.endsAtActive,callback:function(e){t.endsAtActive=e},expression:"endsAtActive"}},[t._v(" "),e("v-date-picker",{on:{input:[function(e){t.endsAtActive=!1},function(e){return t.updateEvaluationNotificationDate(e)}]},model:{value:t.dataProgramEdition.ends_at,callback:function(e){t.$set(t.dataProgramEdition,"ends_at",e)},expression:"dataProgramEdition.ends_at"}})],1),t._v(" "),e("v-select",{staticClass:"tw-ml-2 tw-w-6/12",attrs:{items:t.companies,label:"Company",required:"",rules:t.rules.company_id},on:{input:function(e){t.dataProgramEdition.company_id=e}},model:{value:t.dataProgramEdition.company_id,callback:function(e){t.$set(t.dataProgramEdition,"company_id",e)},expression:"dataProgramEdition.company_id"}}),t._v(" "),e("v-text-field",{staticClass:"tw-ml-2 tw-w-1/6 money",attrs:{label:"Cost",required:"",rules:t.rules.cost,prefix:"€"},model:{value:t.dataProgramEdition.cost,callback:function(e){t.$set(t.dataProgramEdition,"cost",e)},expression:"dataProgramEdition.cost"}})],1),t._v(" "),e("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center"},[e("v-text-field",{attrs:{label:"Supplier",required:"",rules:t.rules.supplier},model:{value:t.dataProgramEdition.supplier,callback:function(e){t.$set(t.dataProgramEdition,"supplier",e)},expression:"dataProgramEdition.supplier"}}),t._v(" "),e("v-text-field",{staticClass:"ml-2",attrs:{label:"Certifications",required:"",rules:t.rules.supplier_certifications},model:{value:t.dataProgramEdition.supplier_certifications,callback:function(e){t.$set(t.dataProgramEdition,"supplier_certifications",e)},expression:"dataProgramEdition.supplier_certifications"}}),t._v(" "),e("v-text-field",{staticClass:"ml-2",attrs:{label:"Teacher name",required:"",rules:t.rules.teacher_name},model:{value:t.dataProgramEdition.teacher_name,callback:function(e){t.$set(t.dataProgramEdition,"teacher_name",e)},expression:"dataProgramEdition.teacher_name"}})],1),t._v(" "),e("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center"},[e("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-text-field",t._g({attrs:{label:"Notify accessment to","prepend-inner-icon":"mdi-calendar",readonly:"",rules:t.rules.evaluation_notification_date},model:{value:t.dataProgramEdition.evaluation_notification_date,callback:function(e){t.$set(t.dataProgramEdition,"evaluation_notification_date",e)},expression:"dataProgramEdition.evaluation_notification_date"}},r))]}}]),model:{value:t.evaluationNotificationDateActive,callback:function(e){t.evaluationNotificationDateActive=e},expression:"evaluationNotificationDateActive"}},[t._v(" "),e("v-date-picker",{on:{input:function(e){t.evaluationNotificationDateActive=!1}},model:{value:t.dataProgramEdition.evaluation_notification_date,callback:function(e){t.$set(t.dataProgramEdition,"evaluation_notification_date",e)},expression:"dataProgramEdition.evaluation_notification_date"}})],1),t._v(" "),e("v-text-field",{staticClass:"tw-ml-2 tw-w-3/4",attrs:{label:"Training goals",required:"",rules:t.rules.goals},model:{value:t.dataProgramEdition.goals,callback:function(e){t.$set(t.dataProgramEdition,"goals",e)},expression:"dataProgramEdition.goals"}})],1),t._v(" "),e("div",{staticClass:"tw-mt-2"},[e("span",{staticClass:"subtitle-1"},[t._v("Schedules")]),t._v(" "),e("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:t.addSchedule}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),t._l(t.dataProgramEdition.schedules,function(n,r){return e("div",{key:r,staticClass:"tw-flex"},[e("div",{staticClass:"tw-w-1/4"},[e("v-datetime-picker",{attrs:{label:"Start",timeFormat:"HH:mm"},model:{value:n.starts_at,callback:function(e){t.$set(n,"starts_at",e)},expression:"schedule.starts_at"}})],1),t._v(" "),e("div",{staticClass:"tw-w-1/4 tw-ml-2"},[e("v-datetime-picker",{attrs:{label:"End",timeFormat:"HH:mm"},model:{value:n.ends_at,callback:function(e){t.$set(n,"ends_at",e)},expression:"schedule.ends_at"}})],1),t._v(" "),e("div",{staticClass:"tw-w-1/4 tw-ml-2"},[e("v-datetime-picker",{attrs:{label:"Break start",timeFormat:"HH:mm"},model:{value:n.interval_start,callback:function(e){t.$set(n,"interval_start",e)},expression:"schedule.interval_start"}})],1),t._v(" "),e("div",{staticClass:"tw-w-20/100 tw-ml-2"},[e("v-text-field",{attrs:{label:"Break minutes"},model:{value:n.interval_minutes,callback:function(e){t.$set(n,"interval_minutes",e)},expression:"schedule.interval_minutes"}})],1),t._v(" "),e("div",{staticClass:"tw-w-5/100 tw-ml-2 tw-flex tw-items-center"},[e("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(e){return t.deleteSchedule(r)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1)])})],2)],1)],1),t._v(" "),e("v-tab-item",{key:"students"},[e("students-tab",{attrs:{students:t.students,"program-edition":t.dataProgramEdition},on:{add:function(e){return t.students.push(e)},delete:function(e){return t.students.splice(e,1)}}})],1),t._v(" "),t.dataProgramEdition.id?e("v-tab-item",{key:"export"},[e("export-tab",{attrs:{"program-edition":t.dataProgramEdition}})],1):t._e()],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-text-field",{attrs:{label:"Created by",disabled:!0},model:{value:t.managerName,callback:function(e){t.managerName=e},expression:"managerName"}}),t._v(" "),e("v-btn",{staticClass:"ml-2",attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),e("v-btn",{staticClass:"ml-2",attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},[],!1,null,null,null).exports,cDataTable:$},data:function(){return{headers:[{text:"Program",align:"start",sortable:!0,value:"program.name"},{text:"Edition",align:"start",sortable:!0,value:"name"},{text:"Start date",align:"start",sortable:!0,value:"starts_at"},{text:"End date",align:"start",sortable:!0,value:"ends_at"},{text:"Students",align:"start",sortable:!0,value:"students_count"},{text:"Actions",value:"actions",sortable:!1}],editedItem:new ie,defaultItem:new ie}},methods:{instance:function(t){return new ie(t)},newProgramEdition:function(){this.editedItem=this.defaultItem,this.createVisible=!0}}};const Ee=(0,c.A)(je,function(){var t=this,e=t._self._c;return e("c-data-table",[e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newProgramEdition.apply(null,arguments)}}},[t._v("New Program Edition")]),t._v(" "),e("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,options:t.options,"server-items-length":t.totalItems,loading:t.isLoading,"sort-by":"name"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(n){var r=n.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),e("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):e("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[e("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("No program editions yet.")]),t._v(" "),e("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("New Program Edition")])],1)],1)},[],!1,null,null,null).exports;function Ce(t){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ce(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Te(r.key),r)}}function Te(t){var e=function(t,e){if("object"!=Ce(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ce(e)?e:e+""}function De(t,e,n){return e=Ie(e),function(t,e){if(e&&("object"==Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$e()?Reflect.construct(e,n||[],Ie(t).constructor):e.apply(t,n))}function $e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return($e=function(){return!!t})()}function Ie(t){return Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ie(t)}function Ge(t,e){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ge(t,e)}var Ne=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),De(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(e,t),n=e,r&&Ae(n.prototype,r),o&&Ae(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot);function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function Fe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Re(r.key),r)}}function Re(t){var e=function(t,e){if("object"!=Ve(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ve(e)?e:e+""}function Be(t,e,n){return e=Ue(e),function(t,e){if(e&&("object"==Ve(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,qe()?Reflect.construct(e,n||[],Ue(t).constructor):e.apply(t,n))}function qe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qe=function(){return!!t})()}function Ue(t){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(t)}function Le(t,e){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Le(t,e)}var ze=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Be(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(e,t),n=e,(r=[{key:"resource",value:function(){return"admin/roles"}}])&&Fe(n.prototype,r),o&&Fe(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot);function He(t){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},He(t)}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qe(r.key),r)}}function Qe(t){var e=function(t,e){if("object"!=He(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==He(e)?e:e+""}function Ye(t,e,n){return e=Ke(e),function(t,e){if(e&&("object"==He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,We()?Reflect.construct(e,n||[],Ke(t).constructor):e.apply(t,n))}function We(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(We=function(){return!!t})()}function Ke(t){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ke(t)}function Je(t,e){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Je(t,e)}var Xe=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ye(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Je(t,e)}(e,t),n=e,(r=[{key:"resource",value:function(){return"admin/users"}},{key:"roles",value:function(){return this.hasMany(ze)}}])&&Me(n.prototype,r),o&&Me(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(ot);function Ze(t){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(t)}function tn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function en(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ze(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ze(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nn(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return rn(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(rn(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,rn(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,rn(d,"constructor",u),rn(u,"constructor",s),s.displayName="GeneratorFunction",rn(u,o,"GeneratorFunction"),rn(d),rn(d,o,"Generator"),rn(d,r,function(){return this}),rn(d,"toString",function(){return"[object Generator]"}),(nn=function(){return{w:i,m:f}})()}function rn(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}rn=function(t,e,n,r){function i(e,n){rn(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},rn(t,e,n,r)}function on(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function an(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){on(i,r,o,a,c,"next",t)}function c(t){on(i,r,o,a,c,"throw",t)}a(void 0)})}}const cn={name:"company-create",model:{prop:"company",event:"input"},props:{company:{type:ot,default:function(){return new Jt}},visible:{type:Boolean}},data:function(){return{dataCompany:new Jt,isSaving:!1,users:[]}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.dataCompany=new Jt)}},isSaveDisabled:function(){return!this.dataCompany.name||!this.dataCompany.vat_number||this.isSaving},rules:function(){return{name:[function(t){return!!t||"The field should have a value."}],vat_number:[function(t){return!!t||"The field should have a value."}]}}},methods:{addBudget:function(){this.dataCompany.budgets.push(new Ne)},deleteBudget:function(t){this.dataCompany.budgets.splice(t,1)},close:function(){this.dataVisible=!1},save:function(){var t=this;return an(nn().m(function e(){var n,r;return nn().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isSaving=!0,e.p=1,e.n=2,t.dataCompany.save();case 2:n=e.v,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.n=4;break;case 3:e.p=3,r=e.v,t.isSaving=!1,y(r);case 4:return e.a(2)}},e,null,[[1,3]])}))()},getUsers:function(){var t=this;return an(nn().m(function e(){var n,r;return nn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Xe.limit(999).$get();case 1:n=e.v,t.users=(0,me.A)(n,function(t){return{text:t.name,value:t.id}}),e.n=3;break;case 2:e.p=2,r=e.v,y(r);case 3:return e.a(2)}},e,null,[[0,2]])}))()}},watch:{company:function(t){this.dataCompany=new Jt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(n),!0).forEach(function(e){en(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({budgets:[]},t))},visible:function(t){this.dataVisible=t}},mounted:function(){var t=an(nn().m(function t(){return nn().w(function(t){for(;;)switch(t.n){case 0:this.getUsers();case 1:return t.a(2)}},t,this)}));return function(){return t.apply(this,arguments)}}()},sn=cn;var un=n(9525),ln={insert:"head",singleton:!1};A()(un.A,ln);un.A.locals;const dn={mixins:[j],components:{createDialog:(0,c.A)(sn,function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[e("v-card",{staticClass:"px-5 py-5",attrs:{loading:t.isSaving,height:"90vh"}},[e("v-card-title",[e("span",{staticClass:"headline"},[t._v("Company")])]),t._v(" "),e("v-card-text",{staticClass:"mt-5"},[e("v-text-field",{attrs:{autofocus:"",label:"Name",required:"",rules:t.rules.name},model:{value:t.dataCompany.name,callback:function(e){t.$set(t.dataCompany,"name",e)},expression:"dataCompany.name"}}),t._v(" "),e("div",{staticClass:"tw-flex"},[e("v-text-field",{staticClass:"tw-w-1/2",attrs:{label:"Short name",required:"",rules:t.rules.short_name},model:{value:t.dataCompany.short_name,callback:function(e){t.$set(t.dataCompany,"short_name",e)},expression:"dataCompany.short_name"}}),t._v(" "),e("v-text-field",{staticClass:"tw-w-1/2 tw-ml-2",attrs:{label:"VAT Number",required:"",rules:t.rules.vat_number},model:{value:t.dataCompany.vat_number,callback:function(e){t.$set(t.dataCompany,"vat_number",e)},expression:"dataCompany.vat_number"}})],1),t._v(" "),e("div",[e("v-select",{attrs:{items:t.users,label:"Local coordinator",required:""},on:{input:function(e){t.dataCompany.coordinator_id=e}},model:{value:t.dataCompany.coordinator_id,callback:function(e){t.$set(t.dataCompany,"coordinator_id",e)},expression:"dataCompany.coordinator_id"}})],1),t._v(" "),e("div",{staticClass:"mt-2"},[e("span",{staticClass:"subtitle-1"},[t._v("Budgets")]),t._v(" "),e("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:t.addBudget}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),t._l(t.dataCompany.budgets,function(n,r){return e("div",{key:r,staticClass:"tw-flex"},[e("div",{staticClass:"tw-w-1/2"},[e("v-text-field",{attrs:{label:"Year"},model:{value:n.year,callback:function(e){t.$set(n,"year",e)},expression:"yearBudget.year"}})],1),t._v(" "),e("div",{staticClass:"tw-ml-2"},[e("v-text-field",{staticClass:"money",attrs:{label:"Budget",prefix:"€"},model:{value:n.budget,callback:function(e){t.$set(n,"budget",e)},expression:"yearBudget.budget"}})],1),t._v(" "),e("div",{staticClass:"tw-w-5/100 tw-ml-2 tw-flex tw-items-center"},[e("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(e){return t.deleteBudget(r)}}},[e("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1)])})],2),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},[],!1,null,null,null).exports,cDataTable:$},data:function(){return{headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Coordinator",align:"start",sortable:!0,value:"coordinator.name"},{text:"VAT Number",align:"start",sortable:!0,value:"vat_number"},{text:"Actions",value:"actions",sortable:!1}],defaultItem:new Jt,editedItem:new Jt,createVisible:!1}},methods:{instance:function(t){return new Jt(t)}}};const fn=(0,c.A)(dn,function(){var t=this,e=t._self._c;return e("c-data-table",[e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newItem.apply(null,arguments)}}},[t._v("New Company")]),t._v(" "),e("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,"sort-by":"name"},scopedSlots:t._u([{key:"item.actions",fn:function(n){var r=n.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),e("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):e("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[e("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("No companies yet.")]),t._v(" "),e("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("New Company")])],1)],1)},[],!1,null,null,null).exports;const pn={props:{student:{type:ot,required:!0}},data:function(){return{isExporting:!1,cover:!0,programEditions:!0}},methods:{exportExcel:function(){this.isExporting=!0;try{this.student.export({cover:this.cover,program_editions:this.programEditions})}catch(t){b(t)}finally{this.isExporting=!1}}}};function vn(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return mn(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(mn(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,mn(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,mn(d,"constructor",u),mn(u,"constructor",s),s.displayName="GeneratorFunction",mn(u,o,"GeneratorFunction"),mn(d),mn(d,o,"Generator"),mn(d,r,function(){return this}),mn(d,"toString",function(){return"[object Generator]"}),(vn=function(){return{w:i,m:f}})()}function mn(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}mn=function(t,e,n,r){function i(e,n){mn(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},mn(t,e,n,r)}function bn(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function yn(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){bn(i,r,o,a,c,"next",t)}function c(t){bn(i,r,o,a,c,"throw",t)}a(void 0)})}}const hn={name:"student-create",components:{ExportTab:(0,c.A)(pn,function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"mt-10 warning tw-text-center tw-text-white tw-font-mono tw-rounded"},[t._v("The export is based on the server data. You need to save before exporting.")]),t._v(" "),e("div",{staticClass:"mt-10 container tw-flex tw-justify-between tw-items-end"},[e("div",[e("v-switch",{attrs:{label:"Global data"},model:{value:t.cover,callback:function(e){t.cover=e},expression:"cover"}}),t._v(" "),e("v-switch",{attrs:{label:"Program edition informations"},model:{value:t.programEditions,callback:function(e){t.programEditions=e},expression:"programEditions"}})],1),t._v(" "),e("div",[e("v-btn",{attrs:{color:"primary darken-1",loading:t.isExporting,disabled:!t.cover&&!t.programEditions},on:{click:t.exportExcel}},[t._v("Export")])],1)])])},[],!1,null,null,null).exports},model:{prop:"student",event:"input"},props:{student:{type:ot,default:function(){return new ft}},visible:{type:Boolean}},data:function(){return{dataStudent:new ft,isSaving:!1,citizenIdValidityDatePickerActive:!1,companies:[],tab:null}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.dataStudent=new ft)}},isSaveDisabled:function(){return!this.dataStudent.name||!this.dataStudent.current_company_id||this.isSaving},rules:function(){return{name:[function(t){return!!t||"The field should have a value."}],vat_number:[function(t){return!!t||"The field should have a value."}]}},rgpd:function(){return this.student.hasOwnProperty("citizen_id")&&this.student.hasOwnProperty("citizen_id_validity")}},methods:{close:function(){this.dataVisible=!1},save:function(){var t=this;return yn(vn().m(function e(){var n,r;return vn().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isSaving=!0,e.p=1,e.n=2,t.dataStudent.save();case 2:n=e.v,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.n=4;break;case 3:e.p=3,r=e.v,t.isSaving=!1,y(r);case 4:return e.a(2)}},e,null,[[1,3]])}))()}},watch:{student:function(t){this.dataStudent=t},visible:function(t){this.dataVisible=t}},mounted:function(){var t=yn(vn().m(function t(){var e,n;return vn().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,Jt.get();case 1:e=t.v,this.companies=(0,me.A)(e,function(t){return{text:t.name,value:t.id}}),t.n=3;break;case 2:t.p=2,n=t.v,y(n);case 3:return t.a(2)}},t,this,[[0,2]])}));return function(){return t.apply(this,arguments)}}()},gn=hn;const wn={mixins:[j],components:{createDialog:(0,c.A)(gn,function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{scrollable:"","max-width":"48rem"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[e("v-card",{staticClass:"px-5 py-5 vert-card",attrs:{loading:t.isSaving,height:"90vh"}},[e("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab",{key:"student"},[t._v("Student")]),t._v(" "),t.student.id?e("v-tab",{key:"export"},[t._v("Export")]):t._e()],1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",{key:"student"},[e("v-card",[e("v-card-text",{staticClass:"mt-5"},[e("v-text-field",{attrs:{autofocus:"",label:"Name","prepend-icon":"mdi-account-edit-outline",required:"",rules:t.rules.name},model:{value:t.dataStudent.name,callback:function(e){t.$set(t.dataStudent,"name",e)},expression:"dataStudent.name"}}),t._v(" "),e("v-text-field",{attrs:{label:"Address","prepend-icon":"mdi-map-marker",required:"",rules:t.rules.address},model:{value:t.dataStudent.address,callback:function(e){t.$set(t.dataStudent,"address",e)},expression:"dataStudent.address"}}),t._v(" "),e("div",{staticClass:"tw-flex"},[e("v-text-field",{staticClass:"tw-w-1/4",attrs:{label:"Postal C.","prepend-icon":"mdi-city",required:"",rules:t.rules.postal_code},model:{value:t.dataStudent.postal_code,callback:function(e){t.$set(t.dataStudent,"postal_code",e)},expression:"dataStudent.postal_code"}}),t._v(" "),e("v-text-field",{staticClass:"tw-w-3/4 tw-ml-2",attrs:{label:"City","prepend-icon":"mdi-city",required:"",rules:t.rules.city},model:{value:t.dataStudent.city,callback:function(e){t.$set(t.dataStudent,"city",e)},expression:"dataStudent.city"}})],1),t._v(" "),t.rgpd?e("div",{staticClass:"tw-flex"},[e("v-text-field",{staticClass:"tw-w-3/4",attrs:{label:"Citizen card","prepend-icon":"mdi-card-account-details-outline",required:"",rules:t.rules.citizen_id},model:{value:t.dataStudent.citizen_id,callback:function(e){t.$set(t.dataStudent,"citizen_id",e)},expression:"dataStudent.citizen_id"}}),t._v(" "),e("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-text-field",t._g({staticClass:"tw-w-1/4 tw-ml-2",attrs:{label:"Validity","prepend-icon":"mdi-calendar",readonly:"",rules:t.rules.citizen_id_validity},model:{value:t.dataStudent.citizen_id_validity,callback:function(e){t.$set(t.dataStudent,"citizen_id_validity",e)},expression:"dataStudent.citizen_id_validity"}},r))]}}],null,!1,1083999961),model:{value:t.citizenIdValidityDatePickerActive,callback:function(e){t.citizenIdValidityDatePickerActive=e},expression:"citizenIdValidityDatePickerActive"}},[t._v(" "),e("v-date-picker",{on:{input:function(e){t.citizenIdValidityDatePickerActive=!1}},model:{value:t.dataStudent.citizen_id_validity,callback:function(e){t.$set(t.dataStudent,"citizen_id_validity",e)},expression:"dataStudent.citizen_id_validity"}})],1)],1):t._e(),t._v(" "),e("v-text-field",{attrs:{label:"E-mail",type:"email","prepend-icon":"mdi-email-outline",required:"",rules:t.rules.email},model:{value:t.dataStudent.email,callback:function(e){t.$set(t.dataStudent,"email",e)},expression:"dataStudent.email"}}),t._v(" "),t.rgpd?e("div",{staticClass:"tw-flex"},[e("v-text-field",{attrs:{label:"Birth place","prepend-icon":"mdi-map-marker",required:"",rules:t.rules.birth_place},model:{value:t.dataStudent.birth_place,callback:function(e){t.$set(t.dataStudent,"birth_place",e)},expression:"dataStudent.birth_place"}}),t._v(" "),e("v-text-field",{staticClass:"tw-ml-2",attrs:{label:"Birth country","prepend-icon":"mdi-map-marker",required:"",rules:t.rules.nationality},model:{value:t.dataStudent.nationality,callback:function(e){t.$set(t.dataStudent,"nationality",e)},expression:"dataStudent.nationality"}})],1):t._e(),t._v(" "),e("v-divider",{staticClass:"tw-my-4",attrs:{dark:""}}),t._v(" "),e("v-select",{attrs:{items:t.companies,label:"Company","prepend-icon":"mdi-factory",required:"",rules:t.rules.company},on:{input:function(e){t.dataStudent.current_company_id=e}},model:{value:t.dataStudent.current_company_id,callback:function(e){t.$set(t.dataStudent,"current_company_id",e)},expression:"dataStudent.current_company_id"}}),t._v(" "),e("v-text-field",{attrs:{label:"Job title","prepend-icon":"mdi-barcode-scan",required:"",rules:t.rules.current_job_title},model:{value:t.dataStudent.current_job_title,callback:function(e){t.$set(t.dataStudent,"current_job_title",e)},expression:"dataStudent.current_job_title"}})],1)],1)],1),t._v(" "),e("v-tab-item",{key:"export"},[e("export-tab",{attrs:{student:t.dataStudent}})],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},[],!1,null,null,null).exports,cDataTable:$},data:function(){return{headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Company",align:"start",sortable:!0,value:"company.name"},{text:"Actions",value:"actions",sortable:!1}],editedItem:new ft,defaultItem:new ft,createVisible:!1}},methods:{instance:function(t){return new ft(t)}}};const _n=(0,c.A)(wn,function(){var t=this,e=t._self._c;return e("c-data-table",[e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newItem.apply(null,arguments)}}},[t._v("Add student")]),t._v(" "),e("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,options:t.options,"server-items-length":t.totalItems,loading:t.isLoading,"sort-by":"name"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(n){var r=n.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),e("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):e("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[e("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("No students yet.")]),t._v(" "),e("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("Add student")])],1)],1)},[],!1,null,null,null).exports;function xn(t){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xn(t)}function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function On(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=xn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xn(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pn(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return Sn(u,"_invoke",function(n,r,o){var i,c,s,u=0,l=o||[],d=!1,f={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return i=e,c=0,s=t,f.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!d&&u&&!o&&e<l.length;e++){var o,i=l[e],p=f.p,v=i[2];n>3?(o=v===r)&&(s=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=t):i[0]<=p&&((o=n<2&&p<i[1])?(c=0,f.v=r,f.n=i[1]):p<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,f.n=v,c=0))}if(o||n>1)return a;throw d=!0,r}return function(o,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!d;){i||(c?c<3?(c>1&&(f.n=-1),p(c,s)):f.n=s:f.v=s);try{if(u=2,i){if(c||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=i.return)&&e.call(i),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=t}else if((e=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(e){i=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(n,o,i),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(Sn(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,Sn(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,Sn(d,"constructor",u),Sn(u,"constructor",s),s.displayName="GeneratorFunction",Sn(u,o,"GeneratorFunction"),Sn(d),Sn(d,o,"Generator"),Sn(d,r,function(){return this}),Sn(d,"toString",function(){return"[object Generator]"}),(Pn=function(){return{w:i,m:f}})()}function Sn(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}Sn=function(t,e,n,r){function i(e,n){Sn(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},Sn(t,e,n,r)}function jn(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function En(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){jn(i,r,o,a,c,"next",t)}function c(t){jn(i,r,o,a,c,"throw",t)}a(void 0)})}}const Cn={name:"user-create",model:{prop:"user",event:"input"},props:{user:{type:ot,default:function(){return new Xe}},visible:{type:Boolean}},data:function(){return{dataUser:new Xe,isSaving:!1,roles:[],tab:null}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.dataUser=new Xe)}},isSaveDisabled:function(){return!this.dataUser.name||!this.dataUser.email||!this.dataUser.roles.length||this.isSaving},rules:function(){var t=this;return{name:[function(t){return!!t||"The field should have a value."}],email:[function(t){return!!t||"The field should have a value."}],password_confirmation:[function(e){return(!!e&&e)===t.dataUser.password||"Password não coincidem."}]}}},methods:{close:function(){this.dataVisible=!1},save:function(){var t=this;return En(Pn().m(function e(){var n,r;return Pn().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isSaving=!0,e.p=1,e.n=2,t.dataUser.save();case 2:n=e.v,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.n=4;break;case 3:e.p=3,r=e.v,t.isSaving=!1,y(r);case 4:return e.a(2)}},e,null,[[1,3]])}))()}},watch:{user:function(t){this.dataUser=new Xe(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach(function(e){On(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({roles:[]},t))},visible:function(t){this.dataVisible=t}},mounted:function(){var t=En(Pn().m(function t(){var e;return Pn().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,ze.get();case 1:this.roles=t.v,t.n=3;break;case 2:t.p=2,e=t.v,y(e);case 3:return t.a(2)}},t,this,[[0,2]])}));return function(){return t.apply(this,arguments)}}()},An=Cn;const Tn={mixins:[j],components:{createDialog:(0,c.A)(An,function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{scrollable:"","max-width":"48rem"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[e("v-card",{staticClass:"px-5 py-5 vert-card",attrs:{loading:t.isSaving,height:"90vh"}},[e("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab",{key:"user"},[t._v("User")])],1),t._v(" "),e("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",{key:"user"},[e("v-card",[e("v-card-text",{attrs:{dense:""}},[e("v-text-field",{attrs:{autofocus:"",label:"Name",id:"name","prepend-icon":"mdi-account-edit-outline",required:"",rules:t.rules.name},model:{value:t.dataUser.name,callback:function(e){t.$set(t.dataUser,"name",e)},expression:"dataUser.name"}}),t._v(" "),e("v-text-field",{attrs:{label:"E-mail",id:"email",type:"email","prepend-icon":"mdi-email-outline",required:"",rules:t.rules.email},model:{value:t.dataUser.email,callback:function(e){t.$set(t.dataUser,"email",e)},expression:"dataUser.email"}}),t._v(" "),e("v-text-field",{attrs:{label:"Password",id:"password",type:"password","prepend-icon":"mdi-lastpass",required:"",rules:t.rules.password},model:{value:t.dataUser.password,callback:function(e){t.$set(t.dataUser,"password",e)},expression:"dataUser.password"}}),t._v(" "),e("v-text-field",{attrs:{label:"Password confirmation",id:"password_confirmation",type:"password","prepend-icon":"mdi-lastpass",required:"",rules:t.rules.password_confirmation},model:{value:t.dataUser.password_confirmation,callback:function(e){t.$set(t.dataUser,"password_confirmation",e)},expression:"dataUser.password_confirmation"}}),t._v(" "),e("v-select",{attrs:{items:t.roles,"item-text":"name","item-value":"id",attach:"",chips:"","deletable-chips":!0,label:"Roles",id:"roles",multiple:"","prepend-icon":"mdi-dolly"},model:{value:t.dataUser.roles,callback:function(e){t.$set(t.dataUser,"roles",e)},expression:"dataUser.roles"}})],1)],1)],1)],1),t._v(" "),e("v-card-actions",[e("v-spacer"),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),e("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)},[],!1,null,null,null).exports,cDataTable:$},data:function(){return{headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Email",align:"start",sortable:!0,value:"email"},{text:"Actions",value:"actions",sortable:!1}],editedItem:new Xe,defaultItem:new Xe,createVisible:!1}},methods:{instance:function(t){return new Xe(t)}}};const Dn=(0,c.A)(Tn,function(){var t=this,e=t._self._c;return e("c-data-table",[e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newItem.apply(null,arguments)}}},[t._v("Add user")]),t._v(" "),e("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,options:t.options,"server-items-length":t.totalItems,loading:t.isLoading,"sort-by":"name"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(n){var r=n.item;return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),e("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):e("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[e("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("Ainda não existem alunos.")]),t._v(" "),e("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("Add user")])],1)],1)},[],!1,null,null,null).exports;r.default.component("app-layout",u),r.default.component("toast",f),r.default.component("report-card",x),r.default.component("program-edition-index",Ee),r.default.component("company-index",fn),r.default.component("student-index",_n),r.default.component("user-index",Dn)},8290:(t,e,n)=>{window.Vue=n(2893),window.axios=n(6425),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var r=document.head.querySelector('meta[name="csrf-token"]');r&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=r.content)},9525:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});var r=n(6314),o=n.n(r)()(function(t){return t[1]});o.push([t.id,".money input{text-align:end}",""]);const i=o},9722:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var r=n(4498);const o={primary:"#74cbc8",secondary:r.black[800],accent:r.gray[600],error:r.red[600],info:r.blue[600],success:r.green[500],warning:r.orange[500],background:"#f2f3f3"}},9920:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var r=n(2893);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}window.Event=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vue=new r.default},e=[{key:"fire",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this.vue).$emit.apply(e,[t].concat(r))}},{key:"listen",value:function(t,e){this.vue.$on(t,e)}}],e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()),window.event=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=Event).fire.apply(e,[t].concat(r))};const c=window.Event}},t=>{var e=e=>t(t.s=e);t.O(0,[252,660],()=>(e(1751),e(2644)));t.O()}]);