(self.webpackChunk=self.webpackChunk||[]).push([[773],{9521:(t,e,n)=>{"use strict";var r=n(538),a=n(9578),i=n(5464),o=n.n(i),s=n(2302),c=(n(4193),n(8177),n(5460)),l=n(5853),u="00:00:00",d="yyyy-MM-dd",f="HH:mm:ss";const p={name:"v-datetime-picker",model:{prop:"datetime",event:"input"},props:{datetime:{type:[Date,String],default:null},disabled:{type:Boolean},loading:{type:Boolean},label:{type:String,default:""},dialogWidth:{type:Number,default:340},dateFormat:{type:String,default:d},timeFormat:{type:String,default:f},clearText:{type:String,default:"LIMPAR"},okText:{type:String,default:"OK"},textFieldProps:{type:Object},datePickerProps:{type:Object},timePickerProps:{type:Object,default:function(){return{format:"24hr",scrollable:!0}}}},data:function(){return{display:!1,activeTab:0,date:"",time:u}},mounted:function(){this.init()},computed:{dateTimeFormat:function(){return this.dateFormat+" "+this.timeFormat},defaultDateTimeFormat:function(){return"yyyy-MM-dd HH:mm:ss"},formattedDatetime:function(){return this.selectedDatetime?(0,c.Z)(this.selectedDatetime,this.dateTimeFormat):""},selectedDatetime:function(){if(this.date&&this.time){var t=this.date+" "+this.time;return 5===this.time.length&&(t+=":00"),(0,l.Z)(t,this.defaultDateTimeFormat,new Date)}return null},dateSelected:function(){return!this.date}},methods:{init:function(){var t;this.datetime&&(this.datetime instanceof Date?t=this.datetime:("string"==typeof this.datetime||this.datetime instanceof String)&&(t=(0,l.Z)(this.datetime,this.dateTimeFormat,new Date)),this.date=(0,c.Z)(t,d),this.time=(0,c.Z)(t,f))},okHandler:function(){this.resetPicker(),this.$emit("input",this.selectedDatetime)},clearHandler:function(){this.resetPicker(),this.date="",this.time=u,this.$emit("input",null)},resetPicker:function(){this.display=!1,this.activeTab=0,this.$refs.timer&&(this.$refs.timer.selectingHour=!0)},showTimePicker:function(){this.activeTab=1}},watch:{datetime:function(){this.init()}}};var v=n(3379),m=n.n(v),b=n(8381),h={insert:"head",singleton:!1};m()(b.Z,h);b.Z.locals;const y=(0,n(1900).Z)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:t.dialogWidth},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g(t._b({attrs:{disabled:t.disabled,loading:t.loading,label:t.label,value:t.formattedDatetime,readonly:""},scopedSlots:t._u([{key:"progress",fn:function(){return[t._t("progress",[n("v-progress-linear",{attrs:{color:"primary",indeterminate:"",absolute:"",height:"2"}})])]},proxy:!0}],null,!0)},"v-text-field",t.textFieldProps,!1),r))]}}]),model:{value:t.display,callback:function(e){t.display=e},expression:"display"}},[t._v(" "),n("v-card",[n("v-card-text",{staticClass:"px-0 py-0"},[n("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[n("v-tab",{key:"calendar"},[t._t("dateIcon",[n("v-icon",[t._v("mdi-calendar")])])],2),t._v(" "),n("v-tab",{key:"timer",attrs:{disabled:t.dateSelected}},[t._t("timeIcon",[n("v-icon",[t._v("mdi-clock-outline")])])],2),t._v(" "),n("v-tab-item",{key:"calendar"},[n("v-date-picker",t._b({attrs:{"full-width":""},on:{input:t.showTimePicker},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-date-picker",t.datePickerProps,!1))],1),t._v(" "),n("v-tab-item",{key:"timer"},[n("v-time-picker",t._b({ref:"timer",attrs:{"full-width":""},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}},"v-time-picker",t.timePickerProps,!1))],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),t._t("actions",[n("v-btn",{attrs:{color:"grey lighten-1",text:""},nativeOn:{click:function(e){return t.clearHandler(e)}}},[t._v(t._s(t.clearText))]),t._v(" "),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:t.okHandler}},[t._v(t._s(t.okText))])],{parent:this})],2)],1)],1)}),[],!1,null,null,null).exports;const g=function(t){t.component("v-datetime-picker",y)};var _=n(5668),w=n(4556);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}r.default.use(o()),r.default.use(g);var P={icons:{iconfont:"mdi"},themes:{light:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){k(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s.Z)}};const S=new(o())({breakpoint:{thresholds:{xs:640,sm:768,md:1024,lg:1280},scrollBarWidth:.1},theme:P,lang:{locales:{pt:_.Z,en:w.Z},current:"pt"}});n(9147),n(3248),n(8756),a.H.$http=window.axios;new r.default({vuetify:S,el:"#app",data:function(){var t;return{token:null===(t=document.head.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.content}}})},9147:(t,e,n)=>{window.Vue=n(538),window.axios=n(9669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var r=document.head.querySelector('meta[name="csrf-token"]');r&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=r.content)},2302:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(9808);const a={primary:"#74cbc8",secondary:r.black[800],accent:r.gray[600],error:r.red[600],info:r.blue[600],success:r.green[500],warning:r.orange[500],background:"#f2f3f3"}},8756:(t,e,n)=>{"use strict";n.r(e);var r=n(538),a=[{type:"v-list-item",icon:"mdi-account-key-outline",text:"User management",link:"/admin/users",admin:!0},{type:"v-list-item",icon:"mdi-account-circle-outline",text:"Logout",link:"/logout"}];const i=[{type:"v-list-item",icon:"mdi-monitor-dashboard",text:"Dashboard",link:"/"},{type:"v-divider"},{type:"v-list-item",icon:"mdi-domain",text:"Companies",link:"/companies",admin:!0},{type:"v-list-item",icon:"mdi-account-edit-outline",text:"Students",link:"/students"},{type:"v-list-item",icon:"mdi-brain",text:"Program editions",link:"/program-editions"},{type:"v-list-item",icon:"mdi-microsoft-excel",text:"Reports",link:"/reports"}],o={props:{isActive:{default:null}},watch:{isActive:function(t){this.drawer=t}},data:function(){return{drawer:null,mainRoutes:[],footerRoutes:[]}},mounted:function(){var t=this;this.mainRoutes=i.filter((function(e){return!e.admin||t.admin})),this.footerRoutes=a.filter((function(e){return!e.admin||t.admin}))},computed:{auth:function(){return this.$root.$refs.eApp.$options.propsData.auth},admin:function(){var t,e;return(null===(t=this.auth)||void 0===t||null===(e=t.roles)||void 0===e?void 0:e.filter((function(t){return"admin"==t.name})).length)>0}},methods:{goto:function(t){t&&(document.location=t)}}};var s=n(1900);const c={components:{NavigationDrawer:(0,s.Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{fixed:"",app:"",color:"primary"},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("div",{staticClass:"tw-mt-16"})]},proxy:!0},{key:"append",fn:function(){return[n("v-list",{attrs:{dense:""}},t._l(t.footerRoutes,(function(e,r){return n("div",{key:r},[n("v-list-item",{attrs:{link:""},on:{click:function(n){return n.stopPropagation(),t.goto(e.link)}}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.text))])],1)],1)],1)})),0)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t._v(" "),n("v-list",{attrs:{dense:""}},t._l(t.mainRoutes,(function(e,r){return n("div",{key:r},[n("v-list-item",{attrs:{link:""},on:{click:function(n){return n.stopPropagation(),t.goto(e.link)}}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.text))])],1)],1)],1)})),0)],1)}),[],!1,null,null,null).exports},data:function(){return{navigationDrawerIsActive:null}},props:{auth:{type:Object,default:{}}},methods:{toggle:function(){this.navigationDrawerIsActive=!this.navigationDrawerIsActive}}};const l=(0,s.Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"training"}},[t.auth?n("navigation-drawer",{ref:"navigationDrawer",attrs:{isActive:t.navigationDrawerIsActive}}):t._e(),t._v(" "),n("v-app-bar",{attrs:{app:"",flat:"",height:"78",color:"white"}},[t.auth?n("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggle(e)}}}):t._e(),t._v(" "),n("v-toolbar-title",{staticClass:"tw-w-full"},[n("div",{staticClass:"tw-flex tw-items-center tw-justify-between"},[n("div",[n("a",{attrs:{href:"/"}},[n("img",{attrs:{src:"/images/logo.svg",alt:"Logo"}})])]),t._v(" "),n("div",{staticClass:"text-xl tw-mr-6 tw-font-medium tw-uppercase"},[t._v("Training Management")])])])],1),t._v(" "),n("v-main",{staticClass:"grey lighten-5"},[t._t("default")],2)],1)}),[],!1,null,null,null).exports;var u=n(2302);const d={data:function(){return{visible:!1,text:"",timeout:4e3,type:"info",top:!0,right:!0}},mounted:function(){var t=this;Event.listen("toast",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.type,r=void 0===n?"info":n,a=e.message,i=void 0===a?"":a;t.text=i,t.type=r,t.visible=!0}))},computed:{color:function(){return"warning"==this.type?u.Z.warning:"error"==this.type?u.Z.error:u.Z.primary}}};const f=(0,s.Z)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{attrs:{timeout:t.timeout,top:t.top,right:t.right,color:t.color},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t._v("\n  "+t._s(t.text)+"\n  "),n("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Fechar")])],1)}),[],!1,null,null,null).exports;var p=n(7757),v=n.n(p),m=n(5823),b=n.n(m),h=n(3248);const y=function(t){h.default.fire("toast",{type:"warning",message:t})},g=function(t){h.default.fire("toast",{type:"error",message:t})};function _(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}const w={props:{title:{type:String,default:null},description:{type:String,default:null},report:{type:String,default:null},dateFormat:{type:String,default:"date-range"},beginDate:{type:[Date,null],default:null},endDate:{type:[Date,null],default:null}},data:function(){return{loading:!1,year:null,startsAtActive:!1,startsAt:null,endsAtActive:!1,endsAt:null}},computed:{years:function(){var t,e,n,r=(new Date).getFullYear();return t=r,e=r-20,n=-1,Array.from({length:(e-t)/n+1},(function(e,r){return t+r*n}))},form:function(){return{name:this.report,year:this.year,begin_date:this.startsAt,end_date:this.endsAt}},valid:function(){return this.year||this.startsAt}},methods:{submit:function(){var t,e=this;return(t=v().mark((function t(){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,axios.post("/reports/".concat(e.report),e.form,{responseType:"arraybuffer"});case 4:n=t.sent,b()(n.data,"".concat(e.report,".xlsx")),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),g(t.t0);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){_(i,r,a,o,s,"next",t)}function s(t){_(i,r,a,o,s,"throw",t)}o(void 0)}))})()}},mounted:function(){this.startsAt=this.beginDate,this.endsAt=this.endDate}};const x=(0,s.Z)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"form"},[n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"250"}},[n("div",{staticClass:"px-2 tw-text-xl tw-text-center primary tw-text-white",domProps:{textContent:t._s(t.title)}}),t._v(" "),n("div",{staticClass:"container py-0"},["date-range"==t.dateFormat?n("div",[n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"none","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({staticClass:"mt-4",attrs:{label:"From","prepend-inner-icon":"mdi-calendar",readonly:"",dense:!0},model:{value:t.startsAt,callback:function(e){t.startsAt=e},expression:"startsAt"}},r))]}}],null,!1,3972669572),model:{value:t.startsAtActive,callback:function(e){t.startsAtActive=e},expression:"startsAtActive"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.startsAtActive=!1}},model:{value:t.startsAt,callback:function(e){t.startsAt=e},expression:"startsAt"}})],1),t._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","min-width":"none","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"To","prepend-inner-icon":"mdi-calendar",readonly:"",dense:!0},model:{value:t.endsAt,callback:function(e){t.endsAt=e},expression:"endsAt"}},r))]}}],null,!1,1002119910),model:{value:t.endsAtActive,callback:function(e){t.endsAtActive=e},expression:"endsAtActive"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.endsAtActive=!1}},model:{value:t.endsAt,callback:function(e){t.endsAt=e},expression:"endsAt"}})],1)],1):t._e(),t._v(" "),"year"==t.dateFormat?n("div",[n("v-select",{staticClass:"mt-4",attrs:{"prepend-inner-icon":"mdi-calendar",items:t.years,label:"Year"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1):t._e()]),t._v(" "),n("div",{staticClass:"container tw-text-xs"},[t._v(t._s(t.description))]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{icon:"",loading:t.loading,disabled:t.loading||!t.valid},on:{click:t.submit}},[n("v-icon",[t._v("mdi-microsoft-excel")])],1)],1)],1)],1)}),[],!1,null,null,null).exports;function k(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function P(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){k(i,r,a,o,s,"next",t)}function s(t){k(i,r,a,o,s,"throw",t)}o(void 0)}))}}const S={props:["items","totalItems"],data:function(){return{list:[],totalList:0,options:{},editedIndex:-1,isLoading:!1,isSaving:!1,createVisible:!1}},created:function(){var t=this;this.list=this.items.map((function(e){return t.instance(e)})),this.totalList=this.totalItems||this.list.length},methods:{instance:function(t){throw Error("Instance method must be defined in parent")},newItem:function(){this.editedIndex=-1,this.editedItem=this.instance(),this.createVisible=!0},editItem:function(t){this.editedIndex=this.list.indexOf(t),this.editedItem=t.clone(),this.createVisible=!0},deleteItem:function(t){var e=this;return P(v().mark((function n(){var r;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.list.indexOf(t),confirm("Are you sure?")){n.next=3;break}return n.abrupt("return");case 3:try{t.delete(),e.list.splice(r,1)}catch(t){g(t)}case 4:case"end":return n.stop()}}),n)})))()},saved:function(t){this.editedIndex>-1?Object.assign(this.list[this.editedIndex],t):this.list.push(t),this.close()},close:function(){}},watch:{options:{handler:function(t,e){var n=this;return P(v().mark((function r(){var a,i,o;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.page){r.next=2;break}return r.abrupt("return");case 2:return n.isLoading=!0,r.prev=3,r.next=6,n.instance().fetch(t);case 6:a=r.sent,i=a.data,o=a.meta,n.list=i,n.totalList=o.total,r.next=17;break;case 13:r.prev=13,r.t0=r.catch(3),n.list=[],n.totalList=0;case 17:return r.prev=17,n.isLoading=!1,r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[3,13,17,20]])})))()},deep:!0}}};const O={};var E=n(3379),C=n.n(E),j=n(6847),A={insert:"head",singleton:!1};C()(j.Z,A);j.Z.locals;const D=(0,s.Z)(O,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"c-data-table tw-flex tw-flex-col tw-mt-10 tw-mx-20"},[t._t("default")],2)}),[],!1,null,null,null).exports;var $=n(9122);function R(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}const I={name:"add-program-dialog",model:{prop:"selectedProgram",event:"input"},props:{visible:{type:Boolean,default:!1},existingPrograms:{type:Array,default:function(){return[]}}},data:function(){return{selectedProgram:null,isSaving:!1}},computed:{show:{get:function(){return this.visible},set:function(t){t||this.$emit("close")}},isSaveDisabled:function(){return null===this.selectedProgram||""==this.selectedProgram},commitButton:function(){return(0,$.Z)(this.selectedProgram)?"Ok":"Save"}},methods:{save:function(){var t,e=this;return(t=v().mark((function t(){var n,r,a;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.selectedProgram){t.next=3;break}return e.cancel(),t.abrupt("return");case 3:if(!(0,$.Z)(e.selectedProgram)){t.next=7;break}return e.close(),e.$emit("input",{id:e.selectedProgram.value,name:e.selectedProgram.text}),t.abrupt("return");case 7:return e.isSaving=!0,t.prev=8,t.next=11,axios.post("/programs",{name:e.selectedProgram});case 11:n=t.sent,e.cancel(),e.$emit("input",n.data),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(8),e.isSaving=!1,console.warn(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.errors),g(t.t0);case 21:case"end":return t.stop()}}),t,null,[[8,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){R(i,r,a,o,s,"next",t)}function s(t){R(i,r,a,o,s,"throw",t)}o(void 0)}))})()},cancel:function(){this.close(),this.selectedProgram=null},close:function(){this.show=!1}}};const T=(0,s.Z)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-card",{attrs:{loading:t.isSaving}},[n("v-card-title",[t._v("\n      Add program name\n    ")]),t._v(" "),n("v-card-text",[n("v-combobox",{attrs:{items:t.existingPrograms},model:{value:t.selectedProgram,callback:function(e){t.selectedProgram=e},expression:"selectedProgram"}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v(t._s(t.commitButton))])],1)],1)],1)}),[],!1,null,null,null).exports;var V=n(3162),Z=n(1552),N=n(9578);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function F(t){return function(t){if(Array.isArray(t))return B(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=W(t);if(e){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(s,t);var e,n,r,a,i,o=Q(s);function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Y(t?o.call(this,t):o.call(this))}return e=s,(n=[{key:"baseURL",value:function(){return""}},{key:"request",value:function(t){return this.$http.request(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({transformRequest:[function(t){return(0,$.Z)(t)?JSON.parse(JSON.stringify(t,(e=new WeakSet,function(t,n){if((0,$.Z)(n)&&null!==n){if(e.has(n))return;e.add(n)}return n}))):t;var e}].concat(F(this.$http.defaults.transformRequest))},t))}},{key:"fetch",value:(a=v().mark((function t(e){var n,r,a,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.sortBy.map((function(t,n){return(e.sortDesc[n]?"-":"")+t})),r=e.page||1,a=e.itemsPerPage||10,t.next=5,this.orderBy(n).page(r).limit(a).get();case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=a.apply(t,e);function o(t){U(i,n,r,o,s,"next",t)}function s(t){U(i,n,r,o,s,"throw",t)}o(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"export",value:function(t){var e=new URLSearchParams(t).toString(),n="/".concat(this.resource(),"/").concat(this.id,"/export?").concat(e),r="".concat(this.id,".").concat(t.format);(0,V.saveAs)(n,r)}},{key:"clone",value:function(){return(0,Z.Z)(this)}}])&&H(e.prototype,n),r&&H(e,r),s}(N.H);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);if(e){var a=rt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(i,t);var e,n,r,a=et(i);function i(){return G(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"resource",value:function(){return"students"}}])&&K(e.prototype,n),r&&K(e,r),i}(J),it=n(1926),ot=n(4399);function st(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}const ct={name:"program-edition-create-students",props:{programEdition:{type:J,default:function(){return new ProgramEdition}},students:{type:Array,default:[]}},data:function(){return{isLoading:!1,search:null,studentsFromQuery:[],student:null}},computed:{rules:function(){return{hours_attended:[function(t){return t>=0||"O valor deve numérico e positivo"}]}}},methods:{addStudent:function(){var t=(0,Z.Z)(this.student);t.pivot={hours_attended:null},this.$emit("add",new at(t)),this.search=null,this.studentsFromQuery=[],this.student=null},deleteStudent:function(t){this.$emit("delete",t)}},watch:{programEdition:function(t){this.student=null,this.studentsFromQuery=[]},search:function(t){var e,n=this;return(e=v().mark((function t(){var e,r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isLoading){t.next=2;break}return t.abrupt("return");case 2:return n.isLoading=!0,n.studentsFromQuery=[],t.prev=4,t.next=7,at.orderBy("name").get();case 7:e=t.sent,r=e.data,n.studentsFromQuery=(0,ot.Z)(r,(function(t){return(0,it.Z)(n.students,{id:t.id})<0})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),g(t.t0);case 15:return t.prev=15,n.isLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[4,12,15,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(t){st(i,r,a,o,s,"next",t)}function s(t){st(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};var lt=n(6921),ut={insert:"head",singleton:!1};C()(lt.Z,ut);lt.Z.locals;const dt=(0,s.Z)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-text",[n("div",{staticClass:"tw-flex tw-items-baseline"},[n("div",{staticClass:"tw-flex-1"},[n("v-autocomplete",{attrs:{items:t.studentsFromQuery,loading:t.isLoading,"search-input":t.search,"hide-no-data":"","hide-selected":"","item-text":"name","item-value":"id",label:"Students",placeholder:"Student name","prepend-icon":"mdi-database-search","return-object":""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}})],1),t._v(" "),n("v-btn",{staticClass:"tw-ml-2",attrs:{disabled:!t.student,fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(e){return t.addStudent()}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),t.students.length>0?n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[t._v("Name")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v("Hours")]),t._v(" "),n("th",{staticClass:"text-left"},[t._v(" ")])])]),t._v(" "),n("tbody",t._l(t.students,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[n("v-text-field",{staticClass:"hours_attended",attrs:{rules:t.rules.hours_attended,dense:"",placeholder:"You only need to fill if the number of hours is different from the program edition"},model:{value:e.pivot.hours_attended,callback:function(n){t.$set(e.pivot,"hours_attended",n)},expression:"student.pivot.hours_attended"}})],1),t._v(" "),n("td",[n("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(e){return t.deleteStudent(r)}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1)])})),0)]},proxy:!0}],null,!1,2628011436)}):t._e()],1)],1)}),[],!1,null,null,null).exports;function ft(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}const pt={props:{programEdition:{type:J,required:!0}},data:function(){return{isExporting:!1,cover:!0,students:!0}},methods:{exportExcel:function(){this.isExporting=!0;try{this.programEdition.export({cover:this.cover,students:this.students})}catch(t){y(t)}finally{this.isExporting=!1}},reports:function(t){var e,n=this;return(e=v().mark((function e(){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.isExporting=!0,e.prev=1,e.next=4,axios.post("/reports/".concat(t),{name:t,program_edition_id:n.programEdition.id},{responseType:"arraybuffer"});case 4:r=e.sent,b()(r.data,"".concat(t,".xlsx")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y(e.t0);case 11:return e.prev=11,n.isExporting=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(t){ft(i,r,a,o,s,"next",t)}function s(t){ft(i,r,a,o,s,"throw",t)}o(void 0)}))})()}}};const vt=(0,s.Z)(pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"mt-10 warning tw-text-center tw-text-white tw-font-mono tw-rounded"},[t._v("The export is based on the server data. You need to save before exporting.")]),t._v(" "),n("div",{staticClass:"mt-10 container tw-flex tw-justify-between tw-items-end"},[n("div",[n("v-switch",{attrs:{label:"Global data"},model:{value:t.cover,callback:function(e){t.cover=e},expression:"cover"}}),t._v(" "),n("v-switch",{attrs:{label:"Students information"},model:{value:t.students,callback:function(e){t.students=e},expression:"students"}})],1),t._v(" "),n("div",[n("v-btn",{attrs:{color:"primary darken-1",loading:t.isExporting,disabled:!t.cover&&!t.students},on:{click:t.exportExcel}},[t._v("Export")])],1)]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"tw-mt-8 tw-flex"},[n("v-btn",{staticClass:"tw-mx-auto",attrs:{color:"primary darken-1",loading:t.isExporting},on:{click:function(e){return t.reports("evaluation")}}},[t._v("Training assessment report")])],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tw-mt-8 tw-flex"},[n("div",{staticClass:"tw-mx-auto"},[t._v("\n      Reports\n    ")])])}],!1,null,null,null).exports;function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wt(t);if(e){var a=wt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(t,e){return!e||"object"!==mt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wt(t){return(wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(i,t);var e,n,r,a=gt(i);function i(){return bt(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"resource",value:function(){return"programs"}}])&&ht(e.prototype,n),r&&ht(e,r),i}(J);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jt(t);if(e){var a=jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ct(this,n)}}function Ct(t,e){return!e||"object"!==kt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jt(t){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var At=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(i,t);var e,n,r,a=Et(i);function i(){return Pt(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"resource",value:function(){return"enrollments"}}])&&St(e.prototype,n),r&&St(e,r),i}(J);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zt(t);if(e){var a=Zt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(i,t);var e,n,r,a=Tt(i);function i(){return $t(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"resource",value:function(){return"companies"}}])&&Rt(e.prototype,n),r&&Rt(e,r),i}(J);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ht(t);if(e){var a=Ht(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ht(t){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bt(t,e)}(i,t);var e,n,r,a=zt(i);function i(){return Ut(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"resource",value:function(){return"program-editions"}},{key:"students",value:function(){return this.hasMany(at)}}])&&Ft(e.prototype,n),r&&Ft(e,r),i}(J);function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kt(t);if(e){var a=Kt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(t,e){return!e||"object"!==Qt(e)&&"function"!=typeof e?Gt(t):e}function Gt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(n,t);var e=Jt(n);function n(){var t;Yt(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return te(Gt(t=e.call.apply(e,[this].concat(a))),"id",null),te(Gt(t),"program_edition_id",null),te(Gt(t),"starts_at",null),te(Gt(t),"ends_at",null),te(Gt(t),"interval_start",null),te(Gt(t),"interval_minutes",null),t}return n}(J),ne=n(6744),re=n(5460),ae=n(1640),ie=n(3855);function oe(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function se(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){oe(i,r,a,o,s,"next",t)}function s(t){oe(i,r,a,o,s,"throw",t)}o(void 0)}))}}var ce;const le={name:"program-edition-create",components:{AddProgramDialog:T,StudentsTab:dt,ExportTab:vt},model:{prop:"programEdition",event:"input"},props:{programEdition:{type:J,default:function(){return new Mt}},visible:{type:Boolean}},data:function(){return{dataProgramEdition:new Mt,isSaving:!1,companies:[],programs:[],students:[],startsAtActive:!1,endsAtActive:!1,addProgramDialogVisible:!1,evaluationNotificationDateActive:!1,tab:null}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.tab=null,this.dataProgramEdition=new Mt)}},isSaveDisabled:function(){return!this.dataProgramEdition.name||this.isSaving},rules:function(){return{name:[function(t){return!!t||"The field should have a value."}],program_id:[function(t){return!!t||"The field should have a value."}]}},managerName:function(){var t;return null===(t=this.dataProgramEdition.manager)||void 0===t?void 0:t.name}},methods:{close:function(){this.dataVisible=!1},save:function(){var t=this;return se(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.prev=1,t.dataProgramEdition.enrollments=t.students.map((function(e){return new At({id:e.pivot.id,student_id:e.id,program_edition_id:t.dataProgramEdition.id,company_id:e.current_company_id,hours_attended:e.pivot.hours_attended})}))||[],e.next=5,t.dataProgramEdition.save();case 5:n=e.sent,t.dataProgramEdition=new Mt,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),t.isSaving=!1,g(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()},selectProgramId:function(t){t&&(this.programs.push({text:t.name,value:t.id}),this.dataProgramEdition.program_id=t.id)},addSchedule:function(){this.dataProgramEdition.schedules.push(new ee)},deleteSchedule:function(t){this.dataProgramEdition.schedules.splice(t,1)},updateEvaluationNotificationDate:function(t){this.dataProgramEdition.evaluation_notification_date&&this.dataProgramEdition.id||(this.dataProgramEdition.evaluation_notification_date=(0,re.Z)((0,ae.Z)((0,ie.Z)(this.dataProgramEdition.ends_at),6),"yyyy-LL-dd"))},getStudents:function(){var t=this;return se(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.students=[],t.programEdition.id){e.next=3;break}return e.abrupt("return");case 3:return t.isSaving=!0,e.prev=4,e.next=7,t.programEdition.students().get();case 7:n=e.sent,t.students=n||[],e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),g(e.t0);case 14:return e.prev=14,t.isSaving=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})))()},getPrograms:function(){var t=this;return se(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xt.get();case 3:n=e.sent,t.programs=(0,ne.Z)(n,(function(t){return{text:t.name,value:t.id}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getCompanies:function(){var t=this;return se(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nt.get();case 3:n=e.sent,t.companies=(0,ne.Z)(n,(function(t){return{text:t.name,value:t.id}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},watch:{programEdition:function(t){this.dataProgramEdition=t,this.getStudents()},visible:function(t){this.dataVisible=t}},mounted:(ce=se(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getPrograms(),this.getCompanies();case 2:case"end":return t.stop()}}),t,this)}))),function(){return ce.apply(this,arguments)})};var ue=n(1857),de={insert:"head",singleton:!1};C()(ue.Z,de);ue.Z.locals;const fe={mixins:[S],components:{createDialog:(0,s.Z)(le,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":"48rem"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[n("v-card",{staticClass:"px-5 py-5 vert-card",attrs:{loading:t.isSaving,height:"90vh"}},[n("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{key:"programEdition"},[t._v("Program edition")]),t._v(" "),n("v-tab",{key:"students"},[t._v("Students")]),t._v(" "),t.dataProgramEdition.id?n("v-tab",{key:"export"},[t._v("Export")]):t._e()],1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{key:"programEdition"},[n("v-card",[n("v-card-text",[n("div",{staticClass:"tw-flex"},[n("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center tw-w-2/3"},[n("v-select",{staticClass:"tw-w-8/12",attrs:{items:t.programs,label:"Program name",required:"",rules:t.rules.program_id},on:{input:function(e){t.dataProgramEdition.program_id=e}},model:{value:t.dataProgramEdition.program_id,callback:function(e){t.$set(t.dataProgramEdition,"program_id",e)},expression:"dataProgramEdition.program_id"}}),t._v(" "),n("v-btn",{staticClass:"tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(e){t.addProgramDialogVisible=!0}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),t._v(" "),n("add-program-dialog",{attrs:{"existing-programs":t.programs,visible:t.addProgramDialogVisible},on:{close:function(e){t.addProgramDialogVisible=!1},input:function(e){return t.selectProgramId(e)}}})],1),t._v(" "),n("v-text-field",{staticClass:"ml-4 tw-w-1/3",attrs:{label:"Edition name",required:"",rules:t.rules.name},model:{value:t.dataProgramEdition.name,callback:function(e){t.$set(t.dataProgramEdition,"name",e)},expression:"dataProgramEdition.name"}})],1),t._v(" "),n("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center"},[n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Starts at","prepend-inner-icon":"mdi-calendar",readonly:"",rules:t.rules.starts_at},model:{value:t.dataProgramEdition.starts_at,callback:function(e){t.$set(t.dataProgramEdition,"starts_at",e)},expression:"dataProgramEdition.starts_at"}},r))]}}]),model:{value:t.startsAtActive,callback:function(e){t.startsAtActive=e},expression:"startsAtActive"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.startsAtActive=!1}},model:{value:t.dataProgramEdition.starts_at,callback:function(e){t.$set(t.dataProgramEdition,"starts_at",e)},expression:"dataProgramEdition.starts_at"}})],1),t._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({staticClass:"tw-ml-2",attrs:{label:"Ends at","prepend-inner-icon":"mdi-calendar",readonly:"",rules:t.rules.ends_at},model:{value:t.dataProgramEdition.ends_at,callback:function(e){t.$set(t.dataProgramEdition,"ends_at",e)},expression:"dataProgramEdition.ends_at"}},r))]}}]),model:{value:t.endsAtActive,callback:function(e){t.endsAtActive=e},expression:"endsAtActive"}},[t._v(" "),n("v-date-picker",{on:{input:[function(e){t.endsAtActive=!1},function(e){return t.updateEvaluationNotificationDate(e)}]},model:{value:t.dataProgramEdition.ends_at,callback:function(e){t.$set(t.dataProgramEdition,"ends_at",e)},expression:"dataProgramEdition.ends_at"}})],1),t._v(" "),n("v-select",{staticClass:"tw-ml-2 tw-w-6/12",attrs:{items:t.companies,label:"Company",required:"",rules:t.rules.company_id},on:{input:function(e){t.dataProgramEdition.company_id=e}},model:{value:t.dataProgramEdition.company_id,callback:function(e){t.$set(t.dataProgramEdition,"company_id",e)},expression:"dataProgramEdition.company_id"}}),t._v(" "),n("v-text-field",{staticClass:"tw-ml-2 tw-w-1/6 money",attrs:{label:"Cost",required:"",rules:t.rules.cost,prefix:"€"},model:{value:t.dataProgramEdition.cost,callback:function(e){t.$set(t.dataProgramEdition,"cost",e)},expression:"dataProgramEdition.cost"}})],1),t._v(" "),n("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center"},[n("v-text-field",{attrs:{label:"Supplier",required:"",rules:t.rules.supplier},model:{value:t.dataProgramEdition.supplier,callback:function(e){t.$set(t.dataProgramEdition,"supplier",e)},expression:"dataProgramEdition.supplier"}}),t._v(" "),n("v-text-field",{staticClass:"ml-2",attrs:{label:"Certifications",required:"",rules:t.rules.supplier_certifications},model:{value:t.dataProgramEdition.supplier_certifications,callback:function(e){t.$set(t.dataProgramEdition,"supplier_certifications",e)},expression:"dataProgramEdition.supplier_certifications"}}),t._v(" "),n("v-text-field",{staticClass:"ml-2",attrs:{label:"Teacher name",required:"",rules:t.rules.teacher_name},model:{value:t.dataProgramEdition.teacher_name,callback:function(e){t.$set(t.dataProgramEdition,"teacher_name",e)},expression:"dataProgramEdition.teacher_name"}})],1),t._v(" "),n("div",{staticClass:"tw-flex tw-flex-row tw-justify-center tw-items-center"},[n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({attrs:{label:"Notify accessment to","prepend-inner-icon":"mdi-calendar",readonly:"",rules:t.rules.evaluation_notification_date},model:{value:t.dataProgramEdition.evaluation_notification_date,callback:function(e){t.$set(t.dataProgramEdition,"evaluation_notification_date",e)},expression:"dataProgramEdition.evaluation_notification_date"}},r))]}}]),model:{value:t.evaluationNotificationDateActive,callback:function(e){t.evaluationNotificationDateActive=e},expression:"evaluationNotificationDateActive"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.evaluationNotificationDateActive=!1}},model:{value:t.dataProgramEdition.evaluation_notification_date,callback:function(e){t.$set(t.dataProgramEdition,"evaluation_notification_date",e)},expression:"dataProgramEdition.evaluation_notification_date"}})],1),t._v(" "),n("v-text-field",{staticClass:"tw-ml-2 tw-w-3/4",attrs:{label:"Training goals",required:"",rules:t.rules.goals},model:{value:t.dataProgramEdition.goals,callback:function(e){t.$set(t.dataProgramEdition,"goals",e)},expression:"dataProgramEdition.goals"}})],1),t._v(" "),n("div",{staticClass:"tw-mt-2"},[n("span",{staticClass:"subtitle-1"},[t._v("Schedules")]),t._v(" "),n("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:t.addSchedule}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),t._l(t.dataProgramEdition.schedules,(function(e,r){return n("div",{key:r,staticClass:"tw-flex"},[n("div",{staticClass:"tw-w-1/4"},[n("v-datetime-picker",{attrs:{label:"Start",timeFormat:"HH:mm"},model:{value:e.starts_at,callback:function(n){t.$set(e,"starts_at",n)},expression:"schedule.starts_at"}})],1),t._v(" "),n("div",{staticClass:"tw-w-1/4 tw-ml-2"},[n("v-datetime-picker",{attrs:{label:"End",timeFormat:"HH:mm"},model:{value:e.ends_at,callback:function(n){t.$set(e,"ends_at",n)},expression:"schedule.ends_at"}})],1),t._v(" "),n("div",{staticClass:"tw-w-1/4 tw-ml-2"},[n("v-datetime-picker",{attrs:{label:"Break start",timeFormat:"HH:mm"},model:{value:e.interval_start,callback:function(n){t.$set(e,"interval_start",n)},expression:"schedule.interval_start"}})],1),t._v(" "),n("div",{staticClass:"tw-w-20/100 tw-ml-2"},[n("v-text-field",{attrs:{label:"Break minutes"},model:{value:e.interval_minutes,callback:function(n){t.$set(e,"interval_minutes",n)},expression:"schedule.interval_minutes"}})],1),t._v(" "),n("div",{staticClass:"tw-w-5/100 tw-ml-2 tw-flex tw-items-center"},[n("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(e){return t.deleteSchedule(r)}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1)])}))],2)],1)],1),t._v(" "),n("v-tab-item",{key:"students"},[n("students-tab",{attrs:{students:t.students,"program-edition":t.dataProgramEdition},on:{add:function(e){return t.students.push(e)},delete:function(e){return t.students.splice(e,1)}}})],1),t._v(" "),t.dataProgramEdition.id?n("v-tab-item",{key:"export"},[n("export-tab",{attrs:{"program-edition":t.dataProgramEdition}})],1):t._e()],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-text-field",{attrs:{label:"Created by",disabled:!0},model:{value:t.managerName,callback:function(e){t.managerName=e},expression:"managerName"}}),t._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)}),[],!1,null,null,null).exports,cDataTable:D},data:function(){return{headers:[{text:"Program",align:"start",sortable:!0,value:"program.name"},{text:"Edition",align:"start",sortable:!0,value:"name"},{text:"Start date",align:"start",sortable:!0,value:"starts_at"},{text:"End date",align:"start",sortable:!0,value:"ends_at"},{text:"Students",align:"start",sortable:!0,value:"students_count"},{text:"Actions",value:"actions",sortable:!1}],editedItem:new Mt,defaultItem:new Mt}},methods:{instance:function(t){return new Mt(t)},newProgramEdition:function(){this.editedItem=this.defaultItem,this.createVisible=!0}}};const pe=(0,s.Z)(fe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-data-table",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newProgramEdition(e)}}},[t._v("New Program Edition")]),t._v(" "),n("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,options:t.options,"server-items-length":t.totalItems,loading:t.isLoading,"sort-by":"name"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):n("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[n("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("No program editions yet.")]),t._v(" "),n("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("New Program Edition")])],1)],1)}),[],!1,null,null,null).exports;function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){return(be=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ge(t);if(e){var a=ge(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(t,e){return!e||"object"!==ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ge(t){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&be(t,e)}(n,t);var e=he(n);function n(){return me(this,n),e.apply(this,arguments)}return n}(J);function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);if(e){var a=Ee(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(i,t);var e,n,r,a=Se(i);function i(){return xe(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"resource",value:function(){return"admin/roles"}}])&&ke(e.prototype,n),r&&ke(e,r),i}(J);function je(t){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Te(t);if(e){var a=Te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(t,e){return!e||"object"!==je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(i,t);var e,n,r,a=Re(i);function i(){return Ae(this,i),a.apply(this,arguments)}return e=i,(n=[{key:"resource",value:function(){return"admin/users"}},{key:"roles",value:function(){return this.hasMany(Ce)}}])&&De(e.prototype,n),r&&De(e,r),i}(J);function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qe(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function Ue(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){qe(i,r,a,o,s,"next",t)}function s(t){qe(i,r,a,o,s,"throw",t)}o(void 0)}))}}const Fe={name:"company-create",model:{prop:"company",event:"input"},props:{company:{type:J,default:function(){return new Nt}},visible:{type:Boolean}},data:function(){return{dataCompany:new Nt,isSaving:!1,users:[]}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.dataCompany=new Nt)}},isSaveDisabled:function(){return!this.dataCompany.name||!this.dataCompany.vat_number||this.isSaving},rules:function(){return{name:[function(t){return!!t||"The field should have a value."}],vat_number:[function(t){return!!t||"The field should have a value."}]}}},methods:{addBudget:function(){this.dataCompany.budgets.push(new _e)},deleteBudget:function(t){this.dataCompany.budgets.splice(t,1)},close:function(){this.dataVisible=!1},save:function(){var t=this;return Ue(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.prev=1,e.next=4,t.dataCompany.save();case 4:n=e.sent,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t.isSaving=!1,g(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()},getUsers:function(){var t=this;return Ue(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ve.limit(999).$get();case 3:n=e.sent,t.users=(0,ne.Z)(n,(function(t){return{text:t.name,value:t.id}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),g(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},watch:{company:function(t){this.dataCompany=new Nt(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(n),!0).forEach((function(e){Ne(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({budgets:[]},t))},visible:function(t){this.dataVisible=t}},mounted:function(){var t=Ue(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getUsers();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()};var Be=n(738),ze={insert:"head",singleton:!1};C()(Be.Z,ze);Be.Z.locals;const Le={mixins:[S],components:{createDialog:(0,s.Z)(Fe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[n("v-card",{staticClass:"px-5 py-5",attrs:{loading:t.isSaving,height:"90vh"}},[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Company")])]),t._v(" "),n("v-card-text",{staticClass:"mt-5"},[n("v-text-field",{attrs:{autofocus:"",label:"Name",required:"",rules:t.rules.name},model:{value:t.dataCompany.name,callback:function(e){t.$set(t.dataCompany,"name",e)},expression:"dataCompany.name"}}),t._v(" "),n("div",{staticClass:"tw-flex"},[n("v-text-field",{staticClass:"tw-w-1/2",attrs:{label:"Short name",required:"",rules:t.rules.short_name},model:{value:t.dataCompany.short_name,callback:function(e){t.$set(t.dataCompany,"short_name",e)},expression:"dataCompany.short_name"}}),t._v(" "),n("v-text-field",{staticClass:"tw-w-1/2 tw-ml-2",attrs:{label:"VAT Number",required:"",rules:t.rules.vat_number},model:{value:t.dataCompany.vat_number,callback:function(e){t.$set(t.dataCompany,"vat_number",e)},expression:"dataCompany.vat_number"}})],1),t._v(" "),n("div",[n("v-select",{attrs:{items:t.users,label:"Local coordinator",required:""},on:{input:function(e){t.dataCompany.coordinator_id=e}},model:{value:t.dataCompany.coordinator_id,callback:function(e){t.$set(t.dataCompany,"coordinator_id",e)},expression:"dataCompany.coordinator_id"}})],1),t._v(" "),n("div",{staticClass:"mt-2"},[n("span",{staticClass:"subtitle-1"},[t._v("Budgets")]),t._v(" "),n("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:t.addBudget}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1),t._v(" "),t._l(t.dataCompany.budgets,(function(e,r){return n("div",{key:r,staticClass:"tw-flex"},[n("div",{staticClass:"tw-w-1/2"},[n("v-text-field",{attrs:{label:"Year"},model:{value:e.year,callback:function(n){t.$set(e,"year",n)},expression:"yearBudget.year"}})],1),t._v(" "),n("div",{staticClass:"tw-ml-2"},[n("v-text-field",{staticClass:"money",attrs:{label:"Budget",prefix:"€"},model:{value:e.budget,callback:function(n){t.$set(e,"budget",n)},expression:"yearBudget.budget"}})],1),t._v(" "),n("div",{staticClass:"tw-w-5/100 tw-ml-2 tw-flex tw-items-center"},[n("v-btn",{staticClass:"tw-ml-2 tw--mt-2",attrs:{fab:"",dark:"","x-small":"",color:"error"},on:{click:function(e){return t.deleteBudget(r)}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-minus")])],1)],1)])}))],2),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)}),[],!1,null,null,null).exports,cDataTable:D},data:function(){return{headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Coordinator",align:"start",sortable:!0,value:"coordinator.name"},{text:"VAT Number",align:"start",sortable:!0,value:"vat_number"},{text:"Actions",value:"actions",sortable:!1}],defaultItem:new Nt,editedItem:new Nt,createVisible:!1}},methods:{instance:function(t){return new Nt(t)}}};const He=(0,s.Z)(Le,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-data-table",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newItem(e)}}},[t._v("New Company")]),t._v(" "),n("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,"sort-by":"name"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):n("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[n("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("No companies yet.")]),t._v(" "),n("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("New Company")])],1)],1)}),[],!1,null,null,null).exports;const Me={props:{student:{type:J,required:!0}},data:function(){return{isExporting:!1,cover:!0,programEditions:!0}},methods:{exportExcel:function(){this.isExporting=!0;try{this.student.export({cover:this.cover,program_editions:this.programEditions})}catch(t){y(t)}finally{this.isExporting=!1}}}};function Qe(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function Ye(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){Qe(i,r,a,o,s,"next",t)}function s(t){Qe(i,r,a,o,s,"throw",t)}o(void 0)}))}}const We={name:"student-create",components:{ExportTab:(0,s.Z)(Me,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",{staticClass:"mt-10 warning tw-text-center tw-text-white tw-font-mono tw-rounded"},[t._v("The export is based on the server data. You need to save before exporting.")]),t._v(" "),n("div",{staticClass:"mt-10 container tw-flex tw-justify-between tw-items-end"},[n("div",[n("v-switch",{attrs:{label:"Global data"},model:{value:t.cover,callback:function(e){t.cover=e},expression:"cover"}}),t._v(" "),n("v-switch",{attrs:{label:"Program edition informations"},model:{value:t.programEditions,callback:function(e){t.programEditions=e},expression:"programEditions"}})],1),t._v(" "),n("div",[n("v-btn",{attrs:{color:"primary darken-1",loading:t.isExporting,disabled:!t.cover&&!t.programEditions},on:{click:t.exportExcel}},[t._v("Export")])],1)])])}),[],!1,null,null,null).exports},model:{prop:"student",event:"input"},props:{student:{type:J,default:function(){return new at}},visible:{type:Boolean}},data:function(){return{dataStudent:new at,isSaving:!1,citizenIdValidityDatePickerActive:!1,companies:[],tab:null}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.dataStudent=new at)}},isSaveDisabled:function(){return!this.dataStudent.name||!this.dataStudent.current_company_id||this.isSaving},rules:function(){return{name:[function(t){return!!t||"The field should have a value."}],vat_number:[function(t){return!!t||"The field should have a value."}]}},rgpd:function(){return this.student.hasOwnProperty("citizen_id")&&this.student.hasOwnProperty("citizen_id_validity")}},methods:{close:function(){this.dataVisible=!1},save:function(){var t=this;return Ye(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.prev=1,e.next=4,t.dataStudent.save();case 4:n=e.sent,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t.isSaving=!1,g(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}},watch:{student:function(t){this.dataStudent=t},visible:function(t){this.dataVisible=t}},mounted:function(){var t=Ye(v().mark((function t(){var e;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Nt.get();case 3:e=t.sent,this.companies=(0,ne.Z)(e,(function(t){return{text:t.name,value:t.id}})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()};const Je={mixins:[S],components:{createDialog:(0,s.Z)(We,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{scrollable:"","max-width":"48rem"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[n("v-card",{staticClass:"px-5 py-5 vert-card",attrs:{loading:t.isSaving,height:"90vh"}},[n("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{key:"student"},[t._v("Student")]),t._v(" "),t.student.id?n("v-tab",{key:"export"},[t._v("Export")]):t._e()],1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{key:"student"},[n("v-card",[n("v-card-text",{staticClass:"mt-5"},[n("v-text-field",{attrs:{autofocus:"",label:"Name","prepend-icon":"mdi-account-edit-outline",required:"",rules:t.rules.name},model:{value:t.dataStudent.name,callback:function(e){t.$set(t.dataStudent,"name",e)},expression:"dataStudent.name"}}),t._v(" "),n("v-text-field",{attrs:{label:"Address","prepend-icon":"mdi-map-marker",required:"",rules:t.rules.address},model:{value:t.dataStudent.address,callback:function(e){t.$set(t.dataStudent,"address",e)},expression:"dataStudent.address"}}),t._v(" "),n("div",{staticClass:"tw-flex"},[n("v-text-field",{staticClass:"tw-w-1/4",attrs:{label:"Postal C.","prepend-icon":"mdi-city",required:"",rules:t.rules.postal_code},model:{value:t.dataStudent.postal_code,callback:function(e){t.$set(t.dataStudent,"postal_code",e)},expression:"dataStudent.postal_code"}}),t._v(" "),n("v-text-field",{staticClass:"tw-w-3/4 tw-ml-2",attrs:{label:"City","prepend-icon":"mdi-city",required:"",rules:t.rules.city},model:{value:t.dataStudent.city,callback:function(e){t.$set(t.dataStudent,"city",e)},expression:"dataStudent.city"}})],1),t._v(" "),t.rgpd?n("div",{staticClass:"tw-flex"},[n("v-text-field",{staticClass:"tw-w-3/4",attrs:{label:"Citizen card","prepend-icon":"mdi-card-account-details-outline",required:"",rules:t.rules.citizen_id},model:{value:t.dataStudent.citizen_id,callback:function(e){t.$set(t.dataStudent,"citizen_id",e)},expression:"dataStudent.citizen_id"}}),t._v(" "),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-text-field",t._g({staticClass:"tw-w-1/4 tw-ml-2",attrs:{label:"Validity","prepend-icon":"mdi-calendar",readonly:"",rules:t.rules.citizen_id_validity},model:{value:t.dataStudent.citizen_id_validity,callback:function(e){t.$set(t.dataStudent,"citizen_id_validity",e)},expression:"dataStudent.citizen_id_validity"}},r))]}}],null,!1,1083999961),model:{value:t.citizenIdValidityDatePickerActive,callback:function(e){t.citizenIdValidityDatePickerActive=e},expression:"citizenIdValidityDatePickerActive"}},[t._v(" "),n("v-date-picker",{on:{input:function(e){t.citizenIdValidityDatePickerActive=!1}},model:{value:t.dataStudent.citizen_id_validity,callback:function(e){t.$set(t.dataStudent,"citizen_id_validity",e)},expression:"dataStudent.citizen_id_validity"}})],1)],1):t._e(),t._v(" "),n("v-text-field",{attrs:{label:"E-mail",type:"email","prepend-icon":"mdi-email-outline",required:"",rules:t.rules.email},model:{value:t.dataStudent.email,callback:function(e){t.$set(t.dataStudent,"email",e)},expression:"dataStudent.email"}}),t._v(" "),t.rgpd?n("div",{staticClass:"tw-flex"},[n("v-text-field",{attrs:{label:"Birth place","prepend-icon":"mdi-map-marker",required:"",rules:t.rules.birth_place},model:{value:t.dataStudent.birth_place,callback:function(e){t.$set(t.dataStudent,"birth_place",e)},expression:"dataStudent.birth_place"}}),t._v(" "),n("v-text-field",{staticClass:"tw-ml-2",attrs:{label:"Birth country","prepend-icon":"mdi-map-marker",required:"",rules:t.rules.nationality},model:{value:t.dataStudent.nationality,callback:function(e){t.$set(t.dataStudent,"nationality",e)},expression:"dataStudent.nationality"}})],1):t._e(),t._v(" "),n("v-divider",{staticClass:"tw-my-4",attrs:{dark:""}}),t._v(" "),n("v-select",{attrs:{items:t.companies,label:"Company","prepend-icon":"mdi-factory",required:"",rules:t.rules.company},on:{input:function(e){t.dataStudent.current_company_id=e}},model:{value:t.dataStudent.current_company_id,callback:function(e){t.$set(t.dataStudent,"current_company_id",e)},expression:"dataStudent.current_company_id"}}),t._v(" "),n("v-text-field",{attrs:{label:"Job title","prepend-icon":"mdi-barcode-scan",required:"",rules:t.rules.current_job_title},model:{value:t.dataStudent.current_job_title,callback:function(e){t.$set(t.dataStudent,"current_job_title",e)},expression:"dataStudent.current_job_title"}})],1)],1)],1),t._v(" "),n("v-tab-item",{key:"export"},[n("export-tab",{attrs:{student:t.dataStudent}})],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)}),[],!1,null,null,null).exports,cDataTable:D},data:function(){return{headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Company",align:"start",sortable:!0,value:"company.name"},{text:"Actions",value:"actions",sortable:!1}],editedItem:new at,defaultItem:new at,createVisible:!1}},methods:{instance:function(t){return new at(t)}}};const Xe=(0,s.Z)(Je,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-data-table",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newItem(e)}}},[t._v("Add student")]),t._v(" "),n("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,options:t.options,"server-items-length":t.totalItems,loading:t.isLoading,"sort-by":"name"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):n("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[n("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("No students yet.")]),t._v(" "),n("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("Add student")])],1)],1)}),[],!1,null,null,null).exports;function Ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tn(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function en(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){tn(i,r,a,o,s,"next",t)}function s(t){tn(i,r,a,o,s,"throw",t)}o(void 0)}))}}const nn={name:"user-create",model:{prop:"user",event:"input"},props:{user:{type:J,default:function(){return new Ve}},visible:{type:Boolean}},data:function(){return{dataUser:new Ve,isSaving:!1,roles:[],tab:null}},computed:{dataVisible:{get:function(){return this.visible},set:function(t){t||(this.$emit("close"),this.dataUser=new Ve)}},isSaveDisabled:function(){return!this.dataUser.name||!this.dataUser.email||!this.dataUser.roles.length||this.isSaving},rules:function(){var t=this;return{name:[function(t){return!!t||"The field should have a value."}],email:[function(t){return!!t||"The field should have a value."}],password_confirmation:[function(e){return(!!e&&e)===t.dataUser.password||"Password não coincidem."}]}}},methods:{close:function(){this.dataVisible=!1},save:function(){var t=this;return en(v().mark((function e(){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSaving=!0,e.prev=1,e.next=4,t.dataUser.save();case 4:n=e.sent,t.isSaving=!1,t.close(),t.$emit("input",n),t.$emit("saved",n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t.isSaving=!1,g(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()}},watch:{user:function(t){this.dataUser=new Ve(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ge(Object(n),!0).forEach((function(e){Ke(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({roles:[]},t))},visible:function(t){this.dataVisible=t}},mounted:function(){var t=en(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce.get();case 3:this.roles=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),g(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(){return t.apply(this,arguments)}}()};const rn={mixins:[S],components:{createDialog:(0,s.Z)(nn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{scrollable:"","max-width":"48rem"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dataVisible=!1}},model:{value:t.dataVisible,callback:function(e){t.dataVisible=e},expression:"dataVisible"}},[n("v-card",{staticClass:"px-5 py-5 vert-card",attrs:{loading:t.isSaving,height:"90vh"}},[n("v-tabs",{attrs:{"fixed-tabs":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{key:"user"},[t._v("User")])],1),t._v(" "),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{key:"user"},[n("v-card",[n("v-card-text",{attrs:{dense:""}},[n("v-text-field",{attrs:{autofocus:"",label:"Name",id:"name","prepend-icon":"mdi-account-edit-outline",required:"",rules:t.rules.name},model:{value:t.dataUser.name,callback:function(e){t.$set(t.dataUser,"name",e)},expression:"dataUser.name"}}),t._v(" "),n("v-text-field",{attrs:{label:"E-mail",id:"email",type:"email","prepend-icon":"mdi-email-outline",required:"",rules:t.rules.email},model:{value:t.dataUser.email,callback:function(e){t.$set(t.dataUser,"email",e)},expression:"dataUser.email"}}),t._v(" "),n("v-text-field",{attrs:{label:"Password",id:"password",type:"password","prepend-icon":"mdi-lastpass",required:"",rules:t.rules.password},model:{value:t.dataUser.password,callback:function(e){t.$set(t.dataUser,"password",e)},expression:"dataUser.password"}}),t._v(" "),n("v-text-field",{attrs:{label:"Password confirmation",id:"password_confirmation",type:"password","prepend-icon":"mdi-lastpass",required:"",rules:t.rules.password_confirmation},model:{value:t.dataUser.password_confirmation,callback:function(e){t.$set(t.dataUser,"password_confirmation",e)},expression:"dataUser.password_confirmation"}}),t._v(" "),n("v-select",{attrs:{items:t.roles,"item-text":"name","item-value":"id",attach:"",chips:"","deletable-chips":!0,label:"Roles",id:"roles",multiple:"","prepend-icon":"mdi-dolly"},model:{value:t.dataUser.roles,callback:function(e){t.$set(t.dataUser,"roles",e)},expression:"dataUser.roles"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Save")])],1)],1)],1)}),[],!1,null,null,null).exports,cDataTable:D},data:function(){return{headers:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Email",align:"start",sortable:!0,value:"email"},{text:"Actions",value:"actions",sortable:!1}],editedItem:new Ve,defaultItem:new Ve,createVisible:!1}},methods:{instance:function(t){return new Ve(t)}}};const an=(0,s.Z)(rn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("c-data-table",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.list.length>0,expression:"list.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.newItem(e)}}},[t._v("Add user")]),t._v(" "),n("create-dialog",{attrs:{visible:t.createVisible},on:{saved:function(e){return t.saved(e)},close:function(e){t.createVisible=!1}},model:{value:t.editedItem,callback:function(e){t.editedItem=e},expression:"editedItem"}}),t._v(" "),t.list.length?n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.list,options:t.options,"server-items-length":t.totalItems,loading:t.isLoading,"sort-by":"name"},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):n("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[n("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("Ainda não existem alunos.")]),t._v(" "),n("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.createVisible=!0}}},[t._v("Add user")])],1)],1)}),[],!1,null,null,null).exports;r.default.component("app-layout",l),r.default.component("toast",f),r.default.component("report-card",x),r.default.component("program-edition-index",pe),r.default.component("company-index",He),r.default.component("student-index",Xe),r.default.component("user-index",an)},3248:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});var r=n(538);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}window.Event=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vue=new r.default}var e,n,i;return e=t,(n=[{key:"fire",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=this.vue).$emit.apply(e,[t].concat(r))}},{key:"listen",value:function(t,e){this.vue.$on(t,e)}}])&&a(e.prototype,n),i&&a(e,i),t}()),window.event=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(e=Event).fire.apply(e,[t].concat(r))};const i=window.Event},6847:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3645),a=n.n(r)()((function(t){return t[1]}));a.push([t.id,".c-data-table table th{text-transform:uppercase;letter-spacing:1px}.c-data-table table th .v-icon{margin-left:5px}.c-data-table table tr td:last-child,.c-data-table table tr th:last-child{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;padding-right:50px}",""]);const i=a},738:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3645),a=n.n(r)()((function(t){return t[1]}));a.push([t.id,".money input{text-align:end}",""]);const i=a},8381:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3645),a=n.n(r)()((function(t){return t[1]}));a.push([t.id,".v-picker__title{min-height:110px;height:110px;font-size:.5rem}",""]);const i=a},1857:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3645),a=n.n(r)()((function(t){return t[1]}));a.push([t.id,".money input{text-align:end}.v-card{box-shadow:none}.vert-card{display:flex!important;flex-direction:column}.v-tabs{flex:none!important}.v-tabs-items{flex:1;position:relative;overflow-y:auto}",""]);const i=a},6921:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3645),a=n.n(r)()((function(t){return t[1]}));a.push([t.id,".hours_attended input::-moz-placeholder{font-size:xx-small}.hours_attended input:-ms-input-placeholder{font-size:xx-small}.hours_attended input::placeholder{font-size:xx-small}",""]);const i=a},5067:()=>{}},0,[[9521,929,898],[5067,929,898]]]);