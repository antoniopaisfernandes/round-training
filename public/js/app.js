(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(t,e,n){n("bUC5"),t.exports=n("pyCd")},"64M2":function(t,e,n){"use strict";n.r(e);var a=n("p3Lp"),i={data:function(){return{visible:!1,text:"",timeout:4e3,type:"info",top:!0,right:!0}},mounted:function(){var t=this;Event.$on("toast",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.type,a=void 0===n?"info":n,i=e.message,r=void 0===i?"":i;t.text=r,t.type=a,t.visible=!0}))},computed:{color:function(){return"danger"==this.type?a.a.warning:"error"==this.type?a.a.error:a.a.primary}}},r=n("KHd+"),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{attrs:{timeout:t.timeout,top:t.top,right:t.right,color:t.color},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t._v("\n  "+t._s(t.text)+"\n  "),n("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Fechar")])],1)}),[],!1,null,null,null);e.default=o.exports},"9Wh1":function(t,e,n){window.Vue=n("XuX8"),window.axios=n("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var a=document.head.querySelector('meta[name="csrf-token"]');a&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=a.content)},GRSZ:function(t,e,n){var a=n("NI6S");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},JEe5:function(t,e,n){"use strict";n.r(e);var a=n("kPx+");Vue.component("app-layout",a.default);var i=n("hV1v");i.keys().map((function(t){return Vue.component(t.split("/").pop().split(".")[0],i(t).default)}))},Lg2B:function(t,e,n){"use strict";var a=n("GRSZ");n.n(a).a},NI6S:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".program-list table th {\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n.program-list table th .v-icon {\n  margin-left: 5px;\n}\n.program-list table tr th:last-child,\n.program-list table tr td:last-child {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  padding-right: 50px;\n}",""])},bUC5:function(t,e,n){"use strict";n.r(e);var a=n("XuX8"),i=n.n(a),r=n("zlta"),o=n.n(r),s=n("p3Lp"),c=(n("U2NJ"),n("v0CA"),n("338Y")),l=n("S0GN");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}i.a.use(o.a);var m={icons:{iconfont:"mdi"},themes:{light:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s.a)}},v=new o.a({breakpoint:{thresholds:{xs:640,sm:768,md:1024,lg:1280},scrollBarWidth:.1},theme:m,lang:{locales:{pt:c.a,en:l.a},current:"pt"}});n("9Wh1"),n("ox5E"),n("JEe5");new Vue({vuetify:v,el:"#app",data:function(){var t;return{token:null===(t=document.head.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.content}}})},eOYz:function(t,e,n){var a=n("i/9p");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},hV1v:function(t,e,n){var a={"./CompanyList.vue":"teNG","./Layout/index.vue":"kPx+","./Layout/navigation.vue":"lort","./ProgramList.vue":"y1YB","./Toast.vue":"64M2"};function i(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id="hV1v"},"i/9p":function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".company-list table th {\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n.company-list table th .v-icon {\n  margin-left: 5px;\n}\n.company-list table tr th:last-child,\n.company-list table tr td:last-child {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  padding-right: 50px;\n}",""])},"kPx+":function(t,e,n){"use strict";n.r(e);var a={components:{NavigationDrawer:n("lort").default},data:function(){return{navigationDrawerIsActive:null}},props:{auth:{type:Object,default:{}}},methods:{toggle:function(){this.navigationDrawerIsActive=!this.navigationDrawerIsActive}}},i=n("KHd+"),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"training"}},[t.auth?n("navigation-drawer",{ref:"navigationDrawer",attrs:{isActive:t.navigationDrawerIsActive}}):t._e(),t._v(" "),n("v-app-bar",{attrs:{app:"",flat:"",height:"78",color:"white"}},[t.auth?n("v-app-bar-nav-icon",{on:{click:function(e){return e.stopPropagation(),t.toggle(e)}}}):t._e(),t._v(" "),n("v-toolbar-title",{staticClass:"tw-w-full"},[n("div",{staticClass:"tw-flex tw-items-center tw-justify-between"},[n("div",[n("a",{attrs:{href:"/"}},[n("img",{attrs:{src:"/images/logo.svg",alt:"Logo"}})])]),t._v(" "),n("div",{staticClass:"text-xl tw-mr-6 tw-font-medium tw-uppercase"},[t._v("Gestão de Formação")])])])],1),t._v(" "),n("v-content",{staticClass:"grey lighten-5"},[t._t("default")],2)],1)}),[],!1,null,null,null);e.default=r.exports},lort:function(t,e,n){"use strict";n.r(e);var a=[{type:"v-list-item",icon:"mdi-monitor-dashboard",text:"Dashboard",link:""},{type:"v-divider"},{type:"v-list-item",icon:"mdi-domain",text:"Empresas",link:"/company"},{type:"v-list-item",icon:"mdi-teach",text:"Professores",link:""},{type:"v-list-item",icon:"mdi-account-edit-outline",text:"Alunos",link:""},{type:"v-list-item",icon:"mdi-brain",text:"Cursos",link:"/program"},{type:"v-list-item",icon:"mdi-book-account-outline",text:"Inscrições",link:""}],i={props:{isActive:{default:null}},watch:{isActive:function(t){this.drawer=t}},data:function(){return{drawer:null,menuOptions:a}},methods:{goto:function(t){t&&(document.location=t)}}},r=n("KHd+"),o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{fixed:"",app:"",color:"primary"},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("div",{staticClass:"tw-mt-16"})]},proxy:!0},{key:"append",fn:function(){return[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:""},on:{click:function(e){return e.stopPropagation(),t.goto("/logout")}}},[n("v-list-item-action",[n("v-icon",[t._v("mdi-account-circle-outline")])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("Logout")])],1)],1)],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t._v(" "),n("v-list",{attrs:{dense:""}},t._l(t.menuOptions,(function(e,a){return n("div",{key:a},[n("v-list-item",{attrs:{link:""},on:{click:function(n){return n.stopPropagation(),t.goto(e.link)}}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.text))])],1)],1)],1)})),0)],1)}),[],!1,null,null,null);e.default=o.exports},o211:function(t,e,n){"use strict";var a=n("eOYz");n.n(a).a},ox5E:function(t,e){window.Event=new Vue},p3Lp:function(t,e,n){"use strict";var a=n("doTb");e.a={primary:"#74cbc8",secondary:a.colors.black[800],accent:a.colors.gray[600],error:a.colors.red[600],info:a.colors.blue[600],success:a.colors.green[500],warning:a.colors.orange[500],background:"#f2f3f3"}},pyCd:function(t,e){},teNG:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),i=n.n(a);function r(t,e,n,a,i,r,o){try{var s=t[r](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function s(t){r(o,a,i,s,c,"next",t)}function c(t){r(o,a,i,s,c,"throw",t)}s(void 0)}))}}var s={props:["items"],data:function(){return{dialog:!1,headers:[{text:"Nome",align:"start",sortable:!0,value:"name"},{text:"Contribuinte",align:"start",sortable:!0,value:"vat_number"},{text:"Acções",value:"actions",sortable:!1}],companies:[],editedIndex:-1,editedItem:{name:""},defaultItem:{name:""},isSaving:!1}},computed:{isSaveDisabled:function(){return""===this.editedItem.name||this.isSaving},rules:function(){return{name:[function(t){return!!t||"É obrigatória a indicação de um valor para o campo."}],vat_number:[function(t){return!!t||"É obrigatória a indicação de um valor para o campo."}]}}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.companies=this.items},editItem:function(t){this.editedIndex=this.companies.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;return o(i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.companies.indexOf(t),confirm("Tem a certeza que pretende remover esta empresa?")){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,axios.delete("/company/".concat(t.id));case 6:n.sent,e.companies.splice(a,1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),Event.$emit("toast",{message:n.t0,type:"error"});case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;return o(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isSaving=!0,e.prev=1,!(t.editedIndex>-1)){e.next=9;break}return e.next=5,axios.put("/company/".concat(t.editedItem.id),{name:t.editedItem.name});case 5:e.sent,Object.assign(t.companies[t.editedIndex],t.editedItem),e.next=13;break;case 9:return e.next=11,axios.post("/company",{name:t.editedItem.name});case 11:n=e.sent,t.companies.push(n.data.company);case 13:t.isSaving=!1,t.close(),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),t.isSaving=!1,Event.$emit("toast",{message:e.t0,type:"error"});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})))()}}},c=(n("o211"),n("KHd+")),l=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"company-list tw-flex tw-flex-col tw-mt-10 tw-mx-20"},[n("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dialog=!1}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.companies.length>0,expression:"companies.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""}},a),[t._v("Nova Empresa")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",{staticClass:"px-5 py-5",attrs:{loading:t.isSaving}},[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Empresa")])]),t._v(" "),n("v-card-text",{staticClass:"mt-5"},[n("v-text-field",{attrs:{autofocus:"",label:"Nome",required:"",rules:t.rules.name},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}}),t._v(" "),n("v-text-field",{attrs:{label:"Contribuinte",required:"",rules:t.rules.vat_number},model:{value:t.editedItem.vat_number,callback:function(e){t.$set(t.editedItem,"vat_number",e)},expression:"editedItem.vat_number"}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Guardar")])],1)],1)],1),t._v(" "),t.companies.length?n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.companies,"sort-by":"name"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var a=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):n("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[n("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("Ainda não existem empresas.")]),t._v(" "),n("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.dialog=!0}}},[t._v("Nova Empresa")])],1)],1)}),[],!1,null,null,null);e.default=l.exports},y1YB:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),i=n.n(a);function r(t,e,n,a,i,r,o){try{var s=t[r](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(a,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function s(t){r(o,a,i,s,c,"next",t)}function c(t){r(o,a,i,s,c,"throw",t)}s(void 0)}))}}var s={props:["items"],data:function(){return{dialog:!1,headers:[{text:"Nome",align:"start",sortable:!0,value:"name"},{text:"Acções",value:"actions",sortable:!1}],programs:[],editedIndex:-1,editedItem:{name:""},defaultItem:{name:""},isSaving:!1}},computed:{isSaveDisabled:function(){return""===this.editedItem.name||this.isSaving}},watch:{dialog:function(t){t||this.close()}},created:function(){this.initialize()},methods:{initialize:function(){this.programs=this.items},editItem:function(t){this.editedIndex=this.programs.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;return o(i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.programs.indexOf(t),confirm("Tem a certeza que pretende remover este Programa?")){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,n.next=6,axios.post("/program/".concat(t.id),{_method:"DELETE"});case 6:n.sent,e.programs.splice(a,1),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),console.warn(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])})))()},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;return o(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isSaving=!0,!(t.editedIndex>-1)){e.next=14;break}return e.prev=2,e.next=5,axios.post("/program/".concat(t.editedItem.id),{_method:"PUT",name:t.editedItem.name});case 5:e.sent,Object.assign(t.programs[t.editedIndex],t.editedItem),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn(e.t0);case 12:e.next=24;break;case 14:return e.prev=14,e.next=17,axios.post("/program",{name:t.editedItem.name});case 17:n=e.sent,t.programs.push(n.data.program),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),console.warn(e.t1);case 24:t.isSaving=!1,t.close();case 26:case"end":return e.stop()}}),e,null,[[2,9],[14,21]])})))()}}},c=(n("Lg2B"),n("KHd+")),l=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"program-list tw-flex tw-flex-col tw-mt-10 tw-mx-20"},[n("v-dialog",{attrs:{"max-width":"500px"},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.dialog=!1}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.programs.length>0,expression:"programs.length > 0"}],staticClass:"mb-10 tw-self-end",attrs:{color:"primary",dark:""}},a),[t._v("Novo Programa")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",{staticClass:"px-5 py-5",attrs:{loading:t.isSaving}},[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("Programa")])]),t._v(" "),n("v-card-text",{staticClass:"mt-5"},[n("v-text-field",{attrs:{autofocus:"",label:"Nome"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancelar")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:t.isSaveDisabled},on:{click:t.save}},[t._v("Guardar")])],1)],1)],1),t._v(" "),t.programs.length?n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,"fixed-header":!0,items:t.programs,"sort-by":"name"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var a=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v("\n        mdi-pencil\n      ")]),t._v(" "),n("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v("\n        mdi-delete\n      ")])]}}],null,!1,3916416405)}):n("div",{staticClass:"tw-flex tw-flex-col tw-content-center tw-items-center mt-50"},[n("h1",{staticClass:"tw-font-bold tw-text-lg"},[t._v("Ainda não existem programas.")]),t._v(" "),n("v-btn",{staticClass:"mt-10 tw-block",attrs:{color:"primary",dark:""},on:{click:function(e){t.dialog=!0}}},[t._v("Novo Programa")])],1)],1)}),[],!1,null,null,null);e.default=l.exports}},[[0,1,2]]]);